define("widget/room-video",function(require,exports,module){var anchor=require("TTA");require("imgLazyLoad"),require("roomRespondCard");var godLens={init:function(){this.getlistbyuid()},getlistbyuid:function(){var $huyaVideo=$("#huya-video"),tmpl="";$huyaVideo.length>0&&$.getJSON("//v-api-plus.huya.com/index.php?callback=?",{r:"api/getlistbyuid",uid:anchor.lp},function(json){if(json&&json.length>0){tmpl=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+='\n<li class="game-live-item">\n    <a href="'+(null==(__t=data.video_url)?"":__t)+'" class="video-info clickstat" target="_blank" eid="'+(null==(__t=report.eid)?"":__t)+'" eid_desc="'+(null==(__t=report.eid_desc)?"":__t)+'">\n            <img class="pic" data-original="'+(null==(__t=TT.trimUrl(data.video_cover).replace("220x124","460x268"))?"":__t)+'" alt="'+(null==(__t=data.video_title)?"":_.escape(__t))+'" src="//a.msstatic.com/huya/main/assets/img/default/338x190.jpg" onerror="this.onerror=null; this.src=\'//a.msstatic.com/huya/main/assets/img/default/338x190.jpg\';">\n        <span class="video_duration">'+(null==(__t=data.video_duration)?"":_.escape(__t))+'</span>\n        <div class="item-mask"></div>\n        <i class="btn-link__hover_i"></i>\n        ',data.rank&&(__p+='\n        <em class="tag tag-recommend">\n            ',data.rank.indexOf("NO.")>-1&&(__p+="\n            <span></span>\n            "),__p+="\n            "+(null==(__t=data.rank)?"":__t)+"\n        </em>\n        "),__p+='\n    </a>\n    <a href="'+(null==(__t=data.video_url)?"":__t)+'" class="title clickstat" target="_blank" eid="'+(null==(__t=report.eid)?"":__t)+'" eid_desc="'+(null==(__t=report.eid_desc)?"":__t)+'" title="'+(null==(__t=data.video_title)?"":_.escape(__t))+'">'+(null==(__t=data.video_title)?"":_.escape(__t))+'</a>\n    <div class="txt">\n	    <span class="avatar fl">\n	        <img alt="'+(null==(__t=data.video_title)?"":_.escape(__t))+'" data-original="'+(null==(__t=TT.trimUrl(data.user_avatar))?"":__t)+'" src="//a.msstatic.com/huya/main/assets/img/default_avatar.jpg">\n	    	<i class="nick" title="'+(null==(__t=data.user_nickname)?"":_.escape(__t))+'"> '+(null==(__t=data.user_nickname)?"":_.escape(__t))+'</i>\n	    </span>\n        <span class="num"><i class="num-icon"></i><i class="js-num">'+(null==(__t=data.video_play_num)?"":__t)+"</i></span>\n    </div>\n</li>";return __p};for(var $dom=[],_data=json.slice(0,6),i=0;i<_data.length;i++){var item=_data[i];$dom.push(tmpl({i:i,data:item,report:{eid:"click/zhibo/tjwz/video"+(i+1),eid_desc:"\u70b9\u51fb/\u76f4\u64ad\u95f4/\u63a8\u8350\u4f4d\u7f6e/\u89c6\u9891"+(i+1)}}))}$huyaVideo.html($dom.join("")),DUYA_SUB.publish("roomRespondCard"),$huyaVideo.find("img").lazyload({container:$("#main_col"),threshold:100})}else $(".huya-video").remove()})}};godLens.init()});