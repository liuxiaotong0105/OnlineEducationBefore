define("livePerfReport",function(e,t,a){function o(e){var t=new Image;t.src="//ylog.hiido.com/c.gif?"+$.param(e),setTimeout(function(){t=null},100),TT.on("reportReady",function(){var t=$.extend({act:"/event",rid:e.act},e);delete t.act;try{YA.customReport(t)}catch(a){}},!0)}e("tools");a.exports=function(e){if("performance"in window){var t=performance.timing,a=e.timing,r=[t.domainLookupStart-t.fetchStart,t.domainLookupEnd-t.domainLookupStart,t.connectEnd-t.connectStart,t.responseStart-t.requestStart,t.responseEnd-t.responseStart,t.domContentLoadedEventStart-t.domLoading,a.playerLoadEnd-a.playerLoadStart,a.videoLoadEnd-a.videoLoadStart,t.responseEnd-t.fetchStart,t.responseEnd-t.connectStart,a.playerLoadStart-t.connectStart,a.videoLoadEnd-t.connectStart,a.videoLoadEnd-a.playerLoadStart,a.playerLoadStart-t.domLoading,a.playerInitAfter-a.playerInitBefore];if(r.filter&&0==r.filter(function(e){return 0>e}).length&&o({act:"webhuyaliveperf",time:parseInt(1*new Date/1e3),page:e.page,type:e.type,timemap:r.join(",")}),("index"===e.page||"room"===e.page)&&o({act:"webhuyah5performs",time:parseInt(1*new Date/1e3),uid:HUYA_UTIL.getCookieVal("yyuid"),firstByteTime:t.responseStart-t.fetchStart,resourcesTime:a.playerLoadEnd-t.responseStart,videoTime:a.videoLoadEnd-a.videoLoadStart,firstScreenTime:a.videoLoadEnd-t.fetchStart,pageview:e.page}),"room"!=e.page){var n="huya-main-"+("index"==e.page?"index":"room"),d={pageview:n,schema:"index"==e.page?!1:e.page,m:[{path:"AppCache",value:r[0]},{path:"DNS",value:r[1]},{path:"TCP",value:r[2]},{path:"Request",value:r[3]},{path:"Respone",value:r[4]},{path:"DomContentLoad",value:r[5]},{path:"PlayerLoad",value:r[6]},{path:"VideoLoad",value:r[7]},{path:"fetchStart-responseEnd",value:r[8]},{path:"connectStart-responseEnd",value:r[9]},{path:"connectStart-playerLoadStart",value:r[10]},{path:"connectStart-videoLoadEnd",value:r[11]},{path:"playerLoadStart-videoLoadEnd",value:r[12]},{path:"domLoading-playerLoadStart",value:r[13]},{path:"playerInitBefore-playerInitAfter",value:r[14]},{path:"whiteScreenTime",value:performanceInfo.whiteScreenTime-t.fetchStart},{path:"firstScreenTime",value:performanceInfo.firstScreenTime-t.fetchStart},{path:"readyTime",value:t.domContentLoadedEventEnd-t.fetchStart}]};performanceInfo._hmt.push(["reportCustomData",d])}}}});