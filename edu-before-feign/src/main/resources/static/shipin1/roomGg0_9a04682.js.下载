define("widget/roomGg0",function(t,i,o){function e(t,i,o){function e(){clearInterval(a),r.remove(),r=null}var a=null,n=t.display_duration,r=$('<div class="room-gg-0"><div class="room-gg-0-inner"><a class="room-gg-0-pic J_pic" href="'+t.jump_url+'" title="'+t.title+'" target="_blank"></a><div class="room-gg-0-tips"><em class="J_cd">'+n+'s</em>|<span class="J_close">\u5173\u95ed\u5e7f\u544a</span></div></div></div>');r.find(".J_pic").append(o),r.on("click",".J_close",function(t){t.preventDefault(),e();try{ya.reportProductEvent({eid:"click/room/gg/0/close",eid_desc:"\u70b9\u51fb/\u76f4\u64ad\u95f4/\u5e7f\u544a/0/\u5173\u95ed"})}catch(t){}}).on("click",".J_pic",function(){try{ya.reportProductEvent({eid:"click/position",position:"room/gg/0",resourceid:t.id})}catch(i){}});try{TT_RSC_EXPS({pos:"room/gg/0",rsc:t.id})}catch(c){}$(i).append(r);var s=r.height();r.css({height:0,visibility:"visible"}),r.animate({height:s},1e3,function(){a=setInterval(function(){n--,n>0?r.find(".J_cd").text(n+"s"):(clearInterval(a),e())},1e3)})}function a(t,i){var o="//g.huya.com/cache1min.php?m=Api&do=getPositionContent&position_id=3";return $.ajax({url:o,type:"GET",dataType:"jsonp",jsonpCallback:"roomGG0JsonpCallback",data:{pid:t,gid:i},cache:!0})}var n=t("tools");o.exports=function(t,i,o){var r="TT_ROOM_GG_0_M"+TT.env,c=localStorage.getItem(r)||"0",s=108e5;(new Date).getTime()-parseInt(c,10)>s&&a(t,i).done(function(t){200==t.status&&t.data&&t.data.length&&n.loadImg(TT.trimUrl(t.data[0].img_url),function(i){var a='@charset "UTF-8";.room-gg-0{position:absolute;left:0;top:0;width:100%;z-index:999;font-family:"Microsoft YaHei";overflow:hidden;visibility:hidden}.room-gg-0-inner{position:relative}.room-gg-0-pic{display:block;text-align:center}.room-gg-0-pic img{width:100%;height:auto;max-width:1920px}.room-gg-0-tips{position:absolute;top:0;right:0;line-height:2.2;background:#000;color:#fff}.room-gg-0-tips em{padding:0 8px}.room-gg-0-tips span{padding:0 20px 0 8px;background:url(https://a.msstatic.com/huya/main/widget/roomGg0/x_541bad3.png) 61px 50% no-repeat;cursor:pointer}';n.importStyle(a),new e(t.data[0],o,i),localStorage.setItem(r,(new Date).getTime()+"")})})}});