define("widget/dialog",function(){function t(t,i){if(!document.getElementById(i)){var e=document.createElement("style");if(i&&(e.id=i),document.getElementsByTagName("head")[0].appendChild(e),e.styleSheet){if(document.getElementsByTagName("style").length>31)throw new Error("Exceed the maximal count of style tags in IE");e.styleSheet.cssText+=t}else e.appendChild(document.createTextNode(t));return e}}function i(n){if(t(a,"J_dialogStyle"),!(this instanceof i))return new i(n);$.isPlainObject(n)||(n={view:n}),$.extend(this,{view:"<div></div>",width:"",height:"",zIndex:999,lock:!0,container:document.body},$.layerSettings,n),this.lock&&(this.overlay=e(n)),this.view=$(this.view).eq(0),this.container=$(this.container).eq(0);var o=this.container[0];o&&o!==window&&o!==document||(this.container=$(document.body)),this.render()}function e(t){t=t||{};var e,n,o=$("<div></div>").css({opacity:t.opacity||.5,backgroundColor:t.color||"#000",zoom:1}),s=$(t.container);return s[0]&&s[0]!==window&&s[0]!==document&&s[0]!==document.body?(e=s.innerWidth(),n=s.innerHeight()):e=n="100%",i({view:o,width:e,height:n,zIndex:t.zIndex,container:t.container,lock:!1})}function n(t,e,n,o,s){var a=i({view:'<div class="tt-wg-toast">'+t+"</div>",zIndex:n,container:o,lock:s||!1}),l=function(){clearTimeout(c),a.close()},c=setTimeout(l,"number"==typeof e?e:2500);return{close:l}}function o(t,e,n,o,s,a){var l=i({view:'<div class="tt-wg-toast tt-wg-toast-'+["suc","err","tip"][t]+'">'+e+"</div>",zIndex:o,container:s,lock:a||!1}),c=function(){clearTimeout(r),l.close()},r=setTimeout(c,"number"==typeof n?n:2500);return{close:c}}function s(t){return new s.prototype.init(t)}var a='@charset "UTF-8";.dlg{min-width:200px;_width:200px;font-size:12px;line-height:1.5;color:#fff;background:#333;zoom:1;font-family:"Microsoft YaHei"}.dlg-hd{position:relative;padding:14px 15px;background:#191919;_zoom:1}.dlg-tit{margin:0;padding:0;font-size:14px;font-weight:700;color:#ccc}.dlg-close{position:absolute;top:15px;right:15px;width:19px;height:19px;overflow:hidden;cursor:pointer;background:url(https://a.msstatic.com/huya/main/widget/dialog/img/x_3dab4d7.png) no-repeat}.dlg-close:hover{background:url(https://a.msstatic.com/huya/main/widget/dialog/img/x_h_1765a9c.png) no-repeat}.dlg-bd{zoom:1}.dlg-bd:before,.dlg-bd:after{display:table;content:"";line-height:0}.dlg-bd:after{clear:both}.dlg-ft{padding:20px 20px 18px;text-align:center}.dlg-ft .dlg-btn{margin-left:10px}.dlg-btn{display:inline-block;font-size:14px;line-height:1.5;text-align:center;vertical-align:middle;white-space:nowrap;cursor:pointer;color:#fff;border-radius:.3em;padding:.5em 1.5em;text-decoration:none;*display:inline;*zoom:1}.dlg-btn:hover{color:#fff;text-decoration:none}.dlg-btn-orange{background:#f80}.dlg-btn-orange:hover{background:#f90}.dlg-btn-gray{background:#6F88A9}.dlg-btn-gray:hover{background:#839cbd}.dlg .icon-suc,.dlg .icon-err,.dlg .icon-tip{width:24px;height:24px;overflow:hidden}.dlg .icon-suc{background:url(https://a.msstatic.com/huya/main/widget/dialog/img/suc_203a319.png) no-repeat}.dlg .icon-err{background:url(https://a.msstatic.com/huya/main/widget/dialog/img/err_58c7ebb.png) no-repeat}.dlg .icon-tip{background:url(https://a.msstatic.com/huya/main/widget/dialog/img/tip_8f3961c.png) no-repeat}.acephalousDlg .dlg-hd{display:none}.acephalousDlg .dlg-close{top:12px;right:12px;width:15px;height:15px;background:url(https://a.msstatic.com/huya/main/widget/dialog/img/xx_8019de8.png) no-repeat}.acephalousDlg .dlg-close:hover{background:url(https://a.msstatic.com/huya/main/widget/dialog/img/xx_h_866d97a.png) no-repeat}.miniDlg .dlg-hd{padding:9px 12px}.miniDlg .dlg-close{top:12px;right:12px;width:15px;height:15px;background:url(https://a.msstatic.com/huya/main/widget/dialog/img/xx_8019de8.png) no-repeat}.miniDlg .dlg-close:hover{background:url(https://a.msstatic.com/huya/main/widget/dialog/img/xx_h_866d97a.png) no-repeat}.miniDlg .dlg-tit{font-size:12px}.miniDlg .dlg-btn{font-size:12px}.alertDlg-cont{width:220px;padding:40px 45px 20px}.alertDlg-cont .icon-suc,.alertDlg-cont .icon-err,.alertDlg-cont .icon-tip{float:left}.alertDlg-txt{line-height:2;text-align:center}.alertDlg-msg{padding:0 0 0 36px;line-height:2}.loadingDlg-cont{position:relative;width:300px;height:120px}.loadingDlg-cont i{position:absolute;left:0;top:0;width:100%;height:100%;background:url(https://a.msstatic.com/huya/main/assets/img/loading.gif) 50% 50% no-repeat}.tt-wg-toast{background-color:rgba(0,0,0,.7);filter:progid:DXImageTransform.Microsoft.Gradient(GradientType=0, StartColorStr="#B3000000", EndColorStr="#B3000000");zoom:1;color:#fff;padding:10px 15px;border-radius:6px}.tt-wg-toast.tt-wg-toast-suc,.tt-wg-toast.tt-wg-toast-err,.tt-wg-toast.tt-wg-toast-tip{padding-left:45px;background-position:15px 10px;background-repeat:no-repeat}.tt-wg-toast.tt-wg-toast-suc{background-image:url(https://a.msstatic.com/huya/main/widget/dialog/img/suc-mini_7eedf7f.png)}.tt-wg-toast.tt-wg-toast-err{background-image:url(https://a.msstatic.com/huya/main/widget/dialog/img/err-mini_3b560bb.png)}.tt-wg-toast.tt-wg-toast-tip{background-image:url(https://a.msstatic.com/huya/main/widget/dialog/img/tip-mini_1965295.png)}',l=$.browser.msie?parseInt($.browser.version,10):!1;return i.prototype={render:function(){this.view.css("position","absolute"),this.view.css("zIndex",this.zIndex),this.view.width(this.width),this.view.height(this.height),this.view.appendTo(this.container),this.open(),this.center()},center:function(){function t(){i.css({position:"absolute",left:n.scrollLeft()+(n.width()-i.outerWidth())/2,top:n.scrollTop()+(n.height()-i.outerHeight())/2})}function t(){i.css({position:"fixed",left:(n.width()-i.outerWidth())/2,top:(n.height()-i.outerHeight())/2})}var i=this.view,e=this.container;if(e[0]===document.body){var n=$(window);6==l?("static"===e.css("position").toLowerCase()&&e.css("position","relative"),t(),n.resize(t).scroll(t)):(t(),n.resize(t))}else"static"===e.css("position").toLowerCase()&&e.css("position","relative"),i.css({position:"absolute",left:(e.innerWidth()-i.outerWidth())/2,top:(e.innerHeight()-i.outerHeight())/2})},open:function(){this.view.show(),this.lock&&this.overlay.open()},hide:function(){this.view.hide(),this.lock&&this.overlay.hide()},close:function(){this.view.remove(),this.lock&&this.overlay.close()}},n.suc=function(t,i,e,n,s){return o(0,t,i,e,n,s)},n.err=function(t,i,e,n,s){return o(1,t,i,e,n,s)},n.tip=function(t,i,e,n,s){return o(2,t,i,e,n,s)},s.loading=function(t,i){return s({title:t,customClass:"miniDlg",content:'<div class="loadingDlg-cont"><i></i></div>',buttons:[],zIndex:i})},s.alert=function(t,i,e,n){return s({title:t,customClass:"miniDlg alertDlg",content:'<div class="alertDlg-cont"><div class="alertDlg-txt">'+i+"</div></div>",buttons:e,zIndex:n})},s.suc=function(t,i,e,n){return s({title:t,customClass:"miniDlg alertDlg",content:'<div class="alertDlg-cont"><i class="icon-suc"></i><p class="alertDlg-msg">'+i+"</p></div>",buttons:e,zIndex:n})},s.err=function(t,i,e,n){return s({title:t,customClass:"miniDlg alertDlg",content:'<div class="alertDlg-cont"><i class="icon-err"></i><p class="alertDlg-msg">'+i+"</p></div>",buttons:e,zIndex:n})},s.tip=function(t,i,e,n){return s({title:t,customClass:"miniDlg alertDlg",content:'<div class="alertDlg-cont"><i class="icon-tip"></i><p class="alertDlg-msg">'+i+"</p></div>",buttons:e,zIndex:n})},s.prototype={init:function(t){$.extend(this,{title:"title",content:"",customClass:"",init:function(){},close:function(){},buttons:[{type:0,name:"\u786e\u5b9a",click:function(){},close:!0}]},t);for(var e=0,n=this.buttons.length;n>e;e++)this.buttons[e]=$.extend({type:0===e?0:1,name:"\u786e\u5b9a",click:function(){},close:!0},this.buttons[e]);this.closeCallback=this.close,delete this.close,this.state=1,this.create(),this.layer=i({view:this.view,width:this.width,height:this.height,zIndex:this.zIndex,lock:this.lock,container:this.container}),this.lock&&(this.overlay=this.layer.overlay),$.isFunction(this.init)&&this.init()},create:function(){for(var t=this,i="",e=[],n=null,o=null,s=0,a=this.buttons.length;a>s;s++)n=this.buttons[s],function(i){o=$('<a class="dlg-btn" href="#"></a>').text(i.name).addClass(["dlg-btn-orange","dlg-btn-gray"][i.type]).click(function(e){e.preventDefault(),$.isFunction(i.click)&&i.click.apply(t,arguments),i.close&&t.close()})}(n),e.push(o[0]);this.buttons=$(e),i=['<div class="dlg">','<div class="dlg-hd">','<h5 class="dlg-tit"></h5>',"</div>",'<div class="dlg-bd"></div>','<div class="dlg-ft"></div>','<a class="dlg-close" title="\u5173\u95ed" href="#"></a>',"</div>"].join(""),this.view=$(i).addClass(this.customClass),this.content=$(this.content),""!==this.title?this.view.find(".dlg-tit").html(this.title):this.view.addClass("acephalousDlg"),this.view.find(".dlg-bd").append(this.content),this.buttons.length?this.view.find(".dlg-ft").append(this.buttons):this.view.find(".dlg-ft").remove(),this.view.find(".dlg-close").click(function(i){i.preventDefault(),t.close()})},open:function(){this.state<=1||(this.layer.open(),this.state=1)},hide:function(){0!==this.state&&2!==this.state&&(this.layer.hide(),this.state=2)},close:function(){0!==this.state&&(this.layer.close(),this.state=0,$.isFunction(this.closeCallback)&&this.closeCallback())}},s.prototype.init.prototype=s.prototype,{layer:i,dialog:s,toast:n}});