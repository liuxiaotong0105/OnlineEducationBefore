define("widget/roomGg1",function(require,exports,module){function Gg(data,container){function exps(e,t){try{TT_RSC_EXPS({pos:"room/gg/1/"+e,rsc:t})}catch(o){}}var cssText='.room-gg-1 .gg-slider{position:relative;width:100%;border-radius:5px;font-family:"Microsoft YaHei";overflow:hidden}.room-gg-1 .gg-slider-gg{position:absolute;top:0;right:0;line-height:2;padding:0 8px;background-color:#000;color:#fff;border-top-right-radius:5px;opacity:.7}.room-gg-1 .gg-slider-content{width:100%}.room-gg-1 .gg-slider-content ul{width:100%}.room-gg-1 .gg-slider-content li{display:none;width:100%}.room-gg-1 .gg-slider-content li a{display:block;width:100%;overflow:hidden}.room-gg-1 .gg-slider-content li img{width:100%}.room-gg-1 .gg-slider-nav{position:absolute;right:10px;bottom:10px;white-space:nowrap;font-size:0}.room-gg-1 .gg-slider-nav i{display:inline-block;width:10px;height:10px;overflow:hidden;margin-left:5px;background:#CFD0D0;border-radius:50%;cursor:pointer}.room-gg-1 .gg-slider-nav i.active{background:#f80;cursor:default}';tools.importStyle(cssText);var model=new Model(data.length,0),tpl=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+='<div class="gg-slider">\n    <div class="gg-slider-content">\n        <ul>\n        ',$.each(data,function(e,t){__p+='\n            <li class="J_ad" style="display: '+(null==(__t=e?"none":"block")?"":__t)+';"><a href="'+(null==(__t=t.jump_url)?"":__t)+'" target="_blank" title="'+(null==(__t=t.title)?"":_.escape(__t))+'"><img src="'+(null==(__t=TT.trimUrl(t.img_url))?"":__t)+'" alt="\u5e7f\u544a\u56fe" /></a></li>\n        '}),__p+='\n        </ul>\n    </div>\n    <div class="gg-slider-nav">\n        ',data.length>1&&$.each(data,function(e){__p+='\n            <i class="J_navItem'+(null==(__t=e?"":" active")?"":__t)+'"></i>\n        '}),__p+='        \n    </div>\n    <span class="gg-slider-gg">\u5e7f\u544a</span>\n</div>';return __p};if(container.html(tpl({data:data})),model.size>1){model.on("change",function(e){container.find(".J_navItem").removeClass("active").eq(e).addClass("active"),container.find(".J_ad").hide().eq(e).show()}),container.on("mouseenter",".J_navItem",function(){model.go($(this).index())});var timer=setTimeout(model.next,3e3);model.on("change",function(){clearTimeout(timer),timer=setTimeout(model.next,3e3)}),container.on("mouseenter",".gg-slider-content",function(){clearInterval(timer)}).on("mouseleave",".gg-slider-content",function(){clearTimeout(timer),timer=setInterval(model.next,3e3)})}var rec=[];exps(model.index,data[model.index].id),rec[model.index]=!0,model.on("change",function(e){rec[e]||(exps(e,data[e].id),rec[e]=!0)}),container.on("click",".J_ad",function(){try{ya.reportProductEvent({eid:"click/position",position:"room/gg/1/"+model.index,resourceid:data[model.index].id})}catch(e){}})}function Model(e,t){var o=$.extend(this,new Event);o.size=e,o.index=t,o.go=function(e){e!==o.index&&o.emit("change",o.index=e)},o.next=function(){var e=o.index+1;o.go(e<o.size?e:0)}}function getData(e,t){var o="//g.huya.com/cache1min.php?m=Api&do=getPositionContent&position_id=4";return $.ajax({url:o,type:"GET",dataType:"jsonp",jsonpCallback:"roomGG1JsonpCallback",data:{pid:e,gid:t},cache:!0})}var tools=require("tools"),Event=require("Event"),defaultAd={img_url:"https://a.msstatic.com/huya/main/img/roomgg1-default-2.jpg",jump_url:"//www.huya.com/download/#android",id:"2333333333",title:"\u864e\u7259APP"};module.exports=function(e,t,o){getData(e,t).done(function(e){200==e.status&&e.data&&e.data.length?new Gg(e.data,$(o)):new Gg([defaultAd],$(o))})}});