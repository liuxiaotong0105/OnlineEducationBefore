;/*!income_module/app.js*/
define("income_module/app",function(i,e,o){var n=i("Event"),c=new n;c.styleArr=[],c.config={status:2,roleDesc:["游戏","娱乐"],giftDesc:{gift_1:"大宝剑",gift_2:"荧光棒",gift_4:"喜爱福",gift_2165:"充电宝",gift_2336:"鲁班火箭",gift_2633:"纸扇",gift_2752:"小龙虾",gift_2793:"平底锅",gift_3090:"锄宗",gift_3203:"三级头",gift_3307:"空投箱"},giftReplace:",4,2165,2336,2633,2752,2793,3090,3203,3307,",dateDesc:["未开始","N进8 1/2天","N进8 2/2天","分组赛","胜者组","败者组1/3轮","败者组2/3轮","败者组3/3轮","3进2","冠军赛","已结束"]},c.common={isGroupPk:0,stage:0,role:0,roleDesc:c.config.roleDesc[0],gift:{type:0,name:c.config.giftDesc.gift_0}},c.normal={},c.normalAnchor={anchorPre:0,anchorTaskProgres:0,anchorTaskRequire:0,taskFinish:0,taskLv:1,taskReward:0,anchorScore:0},c.union={inRise:!1,name:"",score:0},c.hover={hour:0,left:{name:"",score:0},right:{name:"",score:1},turn:[{left:{roomId:0,yy:0,img:"https://www.huya.com/act/webAct/201810/img/icon_default.png",nick:""},right:{roomId:0,yy:0,img:"https://www.huya.com/act/webAct/201810/img/icon_default.png",nick:""}},{left:{roomId:0,yy:0,img:"https://www.huya.com/act/webAct/201810/img/icon_default.png",nick:""},right:{roomId:0,yy:0,img:"https://www.huya.com/act/webAct/201810/img/icon_default.png",nick:""}},{left:{roomId:0,yy:0,img:"https://www.huya.com/act/webAct/201810/img/icon_default.png",nick:""},right:{roomId:0,yy:0,img:"https://www.huya.com/act/webAct/201810/img/icon_default.png",nick:""}}]},c.groupPk={isTeammate:!0,teammate:{nick:"",img:"https://www.huya.com/act/webAct/201810/img/icon_default.png",score:0},enemy:{nick:"",img:"https://www.huya.com/act/webAct/201810/img/icon_default.png",score:0}},c.virtualPk={status:0,session:1,startTime:"20:00",isAttack:!0,left:{img:"https://www.huya.com/act/webAct/201810/img/icon_default.png",nick:"",unionName:"",score:0},right:{img:"https://www.huya.com/act/webAct/201810/img/icon_default.png",nick:"",unionName:"",score:0},result:{isWin:!1}},c.pk={status:0,session:1,startTime:"20:00",endTime:0,isAttack:!1,delta:123456,schedule:50,left:{img:"https://www.huya.com/act/webAct/201810/img/icon_default.png",nick:"",unionName:"",score:1,roomId:0,yy:0},right:{img:"https://www.huya.com/act/webAct/201810/img/icon_default.png",nick:"",unionName:"",score:2,roomId:0,yy:0},result:{isWin:!1,score:0}},c.player={firstUser:0,firstLp:0,isAttack:!0,isFirstTime:!0,current:!1,amount:1},c.end={best:{img:"https://www.huya.com/act/webAct/201810/img/icon_default.png",name:""},excellent:{img:"https://www.huya.com/act/webAct/201810/img/icon_default.png",name:""}},c.rise={type:2,isWin:!1,unionName:"",desc_1:"",desc_2:""},c.rankNav={count:2,current:"topThree",list:{topThree:"赛程",anchor:"功勋主播"}},c.rankList={groupPk:{type:"groupPk",tips:"",list:[{left:{roomId:0,yy:0,img:"https://www.huya.com/act/webAct/201810/img/icon_default.png",nick:"",score:0},right:{roomId:0,yy:0,img:"https://www.huya.com/act/webAct/201810/img/icon_default.png",nick:"",score:0}},{left:{roomId:0,yy:0,img:"https://www.huya.com/act/webAct/201810/img/icon_default.png",nick:"",score:0},right:{roomId:0,yy:0,img:"https://www.huya.com/act/webAct/201810/img/icon_default.png",nick:"",score:0}},{left:{roomId:0,yy:0,img:"https://www.huya.com/act/webAct/201810/img/icon_default.png",nick:"",score:0},right:{roomId:0,yy:0,img:"https://www.huya.com/act/webAct/201810/img/icon_default.png",nick:"",score:0}},{left:{roomId:0,yy:0,img:"https://www.huya.com/act/webAct/201810/img/icon_default.png",nick:"",score:0},right:{roomId:0,yy:0,img:"https://www.huya.com/act/webAct/201810/img/icon_default.png",nick:"",score:0}}]},topThree:{type:"topThree",tips:"topThree-topThree",top:[{img:"https://www.huya.com/act/webAct/201810/img/icon_default.png",nick:""},{img:"https://www.huya.com/act/webAct/201810/img/icon_default.png",nick:""},{img:"https://www.huya.com/act/webAct/201810/img/icon_default.png",nick:""}],today:[{left:{roomId:0,yy:0,img:"https://www.huya.com/act/webAct/201810/img/icon_default.png",nick:"",score:0},right:{roomId:0,yy:0,img:"https://www.huya.com/act/webAct/201810/img/icon_default.png",nick:"",score:0}},{left:{roomId:0,yy:0,img:"https://www.huya.com/act/webAct/201810/img/icon_default.png",nick:"",score:0},right:{roomId:0,yy:0,img:"https://www.huya.com/act/webAct/201810/img/icon_default.png",nick:"",score:0}}]},rise:{type:"rise",tips:"",list:[]},anchor:{type:"anchor",tips:"",list:[]}},o.exports=c});
;/*!income_module/dataFactory.js*/
define("income_module/dataFactory",function(e,t,i){var r=e("TTA"),o=e("TTR"),a=e("Event"),n=e("income_module/app"),u=new a;u.actId=201810,u.keyArr=[20181001,20181002,20181003,20181004,20181005,20181006,20181007,20181008,20181009,20181010,20181011,20181012,20181013,20181014,20181015,20181016,20181017,20181018,20181019,20181020,20181021],$.extend(u,{uri_20181001:function(e){if(TT.log("--------------------uri_20181001 观众面板基础信息--------------------",e),e.lPid==r.lp){n.config.status=1,0==e.iMelee&&(n.common.isGroupPk=0,n.virtualPk.status=0);var t=1==e.iGuildType?n.config.giftReplace.indexOf(","+o.gid+",")>=0?o.gid:2:1;n.common={guildId:e.lGuildId,stage:e.iStage,role:e.iGuildType,roleDesc:n.config.roleDesc[e.iGuildType],gift:{type:t,name:n.config.giftDesc["gift_"+t]}},n.normalAnchor={anchorPre:parseInt(e.iTaskScore/e.iTaskNext*100),anchorTaskProgres:e.iTaskScore,anchorTaskRequire:e.iTaskNext,taskFinish:e.iTaskFinished,taskLv:e.iTaskLv,taskReward:e.iTaskReward,anchorScore:e.lScore};var i={type:"rise",title:"赛程"};switch(e.iStage){case 1:case 2:i={type:"rise",title:"N进8"};break;case 3:i={type:"groupPk",title:"赛程"};break;case 4:case 5:case 6:case 7:i={type:"topThree",title:"赛程"};break;default:i={type:"rise",title:"赛程"}}n.rankNav.current="anchor"==n.rankNav.current?"anchor":i.type,n.rankNav.list={},n.rankNav.list[i.type]=i.title,n.rankNav.list.anchor="功勋主播",n.rankList.anchor.tips='主播<i class="tips-num">'+r.nick+'</i>, 贡献战力<i class="tips-num">'+e.lScore+'</i>, 排名<i class="tips-num">'+(e.iRank>99||e.iRank<=0?"99+":e.iRank)+"</i>",e.iStage<3?n.rankList.rise.tips='<span class="left">海选赛阶段排名前八的公会晋级</span><a class="tips-link" href="https://layer.huya.com/live/201810activity/index" target="_blank">详情赛程>></a>':3==e.iStage?n.rankList.groupPk.tips="今日PK胜者进入胜者组，败者进入败者组":4==e.iStage||7==e.iStage?n.rankList.topThree.tips='<span class="left">今日胜者晋级三强</span><a class="tips-link" href="https://layer.huya.com/live/201810activity/index" target="_blank">详情赛程>></a>':5==e.iStage||6==e.iStage?n.rankList.topThree.tips='<span class="left">今日败者将无缘三强</span><a class="tips-link" href="https://layer.huya.com/live/201810activity/index" target="_blank">详情赛程>></a>':e.iStage>=8&&(n.rankList.rise.tips='<span class="left">今日战力最低的公会将被淘汰</span><a class="tips-link" href="https://layer.huya.com/live/201810activity/index" target="_blank">详情赛程>></a>'),n.emit("update:panel"),n.emit("update:normalDate"),n.emit("update:normalAnchor"),n.emit("update:rankNav")}},uri_20181002:function(e){TT.log("--------------------uri_20181002 海选信息 (N进8)--------------------",e),n.common.guildId==e.lGuildId&&(n.union.inRise=1==e.iPromote,n.union.score=e.lGuildScore,n.emit("update:normalVirtual"))},uri_20181003:function(e){TT.log("--------------------uri_20181003 分组赛,胜者组,败者组共用--------------------",e),n.common.guildId==e.lGuildId&&(n.groupPk.isTeammate=1==e.iSide,n.groupPk.teammate={nick:e.sAttName,img:e.sAttLogo,score:e.lAttScore},n.groupPk.enemy={nick:e.sDefName,img:e.sDefLogo,score:e.lDefScore},n.emit("update:panel"),n.emit("update:normalVirtual"))},uri_20181004:function(e){TT.log("--------------------uri_20181004 总决赛(3进2, 2进1)--------------------",e),n.common.guildId==e.lGuildId&&(n.union.inRise=1==e.iPromote,n.union.score=e.lGuildScore,n.emit("update:normalVirtual"))},uri_20181005:function(e){TT.log("--------------------uri_20181005 本方公会名字和头像信息--------------------",e),r.lp==e.lPid&&(n.common.guildId=e.lGuildId,n.union.name=e.sGuildName,n.emit("update:normalVirtual"))},uri_20181006:function(e){TT.log("--------------------uri_20181006 个人PK面板--------------------",e),e.lPid==r.lp&&(n.config.status=3,n.common.role=e.iGuildType,2!=e.iType?(e.iKillTime>0?(n.pk.status=2,n.pk.endTime=parseInt(+new Date/1e3)+e.iKillTime):(n.pk.status=1,n.pk.endTime=parseInt(+new Date/1e3)+e.iLeftTime),n.common.isGroupPk=1):(n.pk.status=0,n.common.isGroupPk=0),n.pk=$.extend(n.pk,{session:e.iRound,startTime:function(){var t=new Date(1e3*e.iLeftTime);return t.getHours()+":"+(t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes())}(),isAttack:1==e.iSide,delta:e.iReward,schedule:function(){return 0==e.lAttScore&&0==e.lDefScore?50:parseInt(e.lAttScore/(e.lAttScore+e.lDefScore)*100)}(),left:{lp:e.tAttJump.lPid,img:e.sAttLogo,nick:e.sAttNickName,unionName:e.sAttGuildName,score:e.lAttScore,roomId:e.tAttJump.iRoomId,yy:e.tAttJump.lYYId},right:{lp:e.tDefJump.lPid,img:e.sDefLogo,nick:e.sDefNickName,unionName:e.sDefGuildName,score:e.lDefScore,roomId:e.tDefJump.iRoomId,yy:e.tDefJump.lYYId}}),n.player.isAttack=1==e.iSide,TT.getUserInfo(function(t){var i=[];i.push(n.pk.left.lp),i.push(n.pk.right.lp);var r=i.join("|");t.uid!=n.player.firstUser||r.indexOf(n.player.firstLp)<0||(n.player.isFirstTime=0==e.iSentItemFlag,n.emit("update:pk:send"))}),n.emit("update:panel"),n.emit("update:pk"),n.emit("update:pk:send"))},uri_20181007:function(e){TT.log("--------------------uri_20181007 PK结束面板--------------------",e);var t=e.tBattle;(r.lp==t.tAttJump.lPid||r.lp==t.tDefJump.lPid)&&(n.pk.status=3,n.common.isGroupPk=2,n.player.isFirstTime=!0,n.player.firstUser=0,n.player.firstLp=0,n.pk.left={lp:t.tAttJump.lPid,img:t.sAttLogo,nick:t.sAttNickName,unionName:t.sAttGuildName,score:t.lAttScore,roomId:t.tAttJump.iRoomId,yy:t.tAttJump.lYYId},n.pk.right={lp:t.tDefJump.lPid,img:t.sDefLogo,nick:t.sDefNickName,unionName:t.sDefGuildName,score:t.lDefScore,roomId:t.tDefJump.iRoomId,yy:t.tDefJump.lYYId},n.pk.result={isWin:1==e.iResult,score:e.lDeltaScore},n.emit("update:panel"),n.emit("update:pk"),n.emit("update:pk:send"))},uri_20181008:function(e){TT.log("--------------------uri_20181008 PK用户首次送礼标志--------------------",e),TT.getUserInfo(function(t){n.player.firstUser=e.lUid,n.player.firstLp=e.lPid;var i=[];i.push(n.pk.left.lp),i.push(n.pk.right.lp);var r=i.join("|");t.uid!=e.lUid||r.indexOf(e.lPid)<0||(n.player.isFirstTime=0==e.iSentItemFlag,n.emit("update:pk:send"))})},uri_20181009:function(e){if(TT.log("--------------------uri_20181009 功勋主播榜(N个阶段通用)--------------------",e),e.lGuildId==n.common.guildId){var t=e.vRank.value;n.rankList.anchor.type="anchor",n.rankList.anchor.list=function(){for(var e=[],i=t.length,r=0;i>r;r++){var o=t[r];e.push({rank:r+1,sid:o.tJump.lSid,tid:o.tJump.lTid,roomId:o.tJump.iRoomId,yy:o.tJump.lYYId,name:o.sNickName,score:o.lScore})}return e}(),n.emit("update:rankList")}},uri_20181010:function(e){if(TT.log("--------------------uri_20181010 预赛榜单(N进8)--------------------",e),e.iGuildType==n.common.role){var t=e.vItems.value;n.rankList.rise.type="rise",n.rankList.rise.list=function(){for(var e=[],i=t.length,r=0;i>r;r++){var o=t[r];e.push({rank:r+1,name:o.sGuildName,score:o.lGuildScore})}if(10>i)for(var r=i;10>r;r++)e.push({rank:r+1,name:"--虚位以待--",score:0});return e}(),n.emit("update:rankList")}},uri_20181011:function(e){if(TT.log("--------------------uri_20181011 分组赛榜单--------------------",e),e.iGuildType==n.common.role){var t=e.vItems.value;n.rankList.groupPk.type="groupPk",n.rankList.groupPk.list=function(){for(var e=[],i=0;i<t.length;i++){var r=t[i];e.push({left:{img:r.tAttItem.sGuildLogo,nick:r.tAttItem.sGuildName,score:r.tAttItem.lGuildScore},right:{img:r.tDefItem.sGuildLogo,nick:r.tDefItem.sGuildName,score:r.tDefItem.lGuildScore}})}return e}(),n.emit("update:rankList")}},uri_20181012:function(e){if(TT.log("--------------------uri_20181012 胜者组,败者组共用--------------------",e),e.iGuildType==n.common.role){var t=e.vPromotedItem.value,i=e.vMatchItems.value;n.rankList.topThree.type="topThree",n.rankList.topThree.top=function(){for(var e=[],i=t.length,r=0;i>r;r++){var o=t[r];e.push({img:o.sGuildLogo,nick:o.sGuildName})}if(3>i)for(var r=i;3>r;r++)e.push({img:"https://www.huya.com/act/webAct/201810/img/icon_default.png",nick:"待定"});return e}(),n.rankList.topThree.today=function(){for(var e=[],t=0;t<i.length;t++){var r=i[t];e.push({left:{img:r.tAttItem.sGuildLogo,nick:r.tAttItem.sGuildName,score:r.tAttItem.lGuildScore},right:{img:r.tDefItem.sGuildLogo,nick:r.tDefItem.sGuildName,score:r.tDefItem.lGuildScore}})}return e}(),n.emit("update:rankList")}},uri_20181013:function(e){if(TT.log("--------------------uri_20181013 总决赛榜单(3进2, 2进1)--------------------",e),e.iGuildType==n.common.role){var t=e.vItems.value;n.rankList.rise.type="rise",n.rankList.rise.list=function(){for(var e=[],i=0;i<t.length;i++){var r=t[i];e.push({rank:i+1,name:r.sGuildName,score:r.lGuildScore<0?"已淘汰":r.lGuildScore})}return e}(),n.emit("update:rankList")}},uri_20181014:function(e){TT.log("--------------------uri_20181014 团战中--------------------",e),n.common.guildId==e.lGuildId&&(n.config.status=1,n.virtualPk=$.extend(n.virtualPk,{isAttack:1==e.iSide,schedule:function(){var t=new Date(1e3*e.iStartTime);return 0==e.iState?t.getHours()+":"+(t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes())+"</br>开始":3==e.iStage?"正在PK":void 0}(),status:function(){return 0==e.iState?(n.common.isGroupPk=0,5):1==e.iState||2==e.iState?(n.common.isGroupPk=0,3):3==e.iState?(n.common.isGroupPk=1,1):void 0}(),session:1,startTime:e.iStartTime,isAttack:1==e.iSide,left:{img:e.sAttLogo,nick:e.sAttName,unionName:e.sAttName,score:e.lAttScore,yy:e.tAttJump.lYYId,roomId:e.tAttJump.iRoomId,isWin:1==e.iState},right:{img:e.sDefLogo,nick:e.sDefName,unionName:e.sDefName,score:e.lDefScore,yy:e.tDefJump.lYYId,roomId:e.tDefJump.iRoomId,isWin:2==e.iState}}),n.emit("update:panel"),n.emit("update:normalVirtual"))},uri_20181015:function(e){TT.log("--------------------uri_20181015 团战结果公会部分--------------------",e),n.common.guildId==e.lGuildId&&(n.config.status=1,n.virtualPk.status=4,n.virtualPk.result={isAttack:1==e.iSide,isWin:1==e.iResult,delta:e.lReward},n.virtualPk.left.score=e.lScore,n.virtualPk.right.score=e.lEnemyScore,n.emit("update:panel"),n.emit("update:normalVirtual"))},uri_20181016:function(e){TT.log("--------------------uri_20181016 Hover信息--------------------",e),n.hover={session:e.iRound,hour:e.iRoundHour,left:{score:e.iSelfScore,name:e.sGuildName},right:{score:e.iEnemyScore,name:e.sEnemyGuildName},turn:function(){for(var t=[],i=e.vMeleeInfo.value,r=0;r<i.length;r++){var o=i[r];t.push({willPk:0==o.iState||3==o.iState,schedule:function(){var t=new Date(1e3*o.iStartTime);return 1==o.iState||2==o.iState?"结束":r+1==e.iRound&&1==n.common.isGroupPk?"正在PK":t.getHours()+":"+(t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes())+"开始"}(),left:{roomId:o.tAttJump.iRoomId,yy:o.tAttJump.lYYId,sid:o.tAttJump.lSid,tid:o.tAttJump.lTid,img:o.sAttLogo,nick:o.sAttName,isWin:1==o.iState},right:{roomId:o.tDefJump.iRoomId,yy:o.tDefJump.lYYId,sid:o.tDefJump.lSid,tid:o.tDefJump.lTid,img:o.sDefLogo,nick:o.sDefName,isWin:2==o.iState}})}return t}()},n.emit("update:hoverPanel",{type:"virtual",data:n.hover})},uri_20181017:function(e){TT.log("--------------------uri_20181017 晋级结果面板--------------------",e),n.config.status=4,n.common.role=e.iGuildType,n.rise={type:e.iPromoteType,isWin:1==e.iPromoteType|3==e.iPromoteType,unionName:e.sGuildName,desc_1:e.sDesc1,desc_2:e.sDesc2},n.emit("update:panel")},uri_20181018:function(e){TT.log("--------------------uri_20181018 活动结束面板--------------------",e),n.config.status=2,n.common.role=e.iGuildType;var t=0==e.iGuildType?e.vGameItems.value:e.vEntItems.value;n.end={best:{img:t[0].sGuildLogo,name:t[0].sGuildName},excellent:{img:t[1].sGuildLogo,name:t[1].sGuildName}},n.emit("update:panel")},uri_20181019:function(e){TT.log("--------------------uri_20181019 隐藏UI, 用于隐藏晋级或淘汰面板--------------------",e),n.config.status=0,n.emit("update:panel")},uri_20181020:function(e){TT.log("--------------------uri_20181020 收到这个协议只更新分组赛/胜者组/败者组对战面板里面的数值--------------------",e),n.common.guildId==e.lGuildId&&(n.groupPk.teammate.score=e.lAttScore,n.groupPk.enemy.score=e.lDefScore,n.emit("update:normalVirtual"))},uri_20181021:function(e){TT.log("--------------------uri_20181021 是否在团战--------------------",e),n.common.guildId==e.lGuildId&&(n.common.stage=e.iStage,2==e.iMelee&&(n.common.isGroupPk=2),1!=e.iMelee&&2!=e.iMelee&&(n.config.status=1),n.emit("update:panel"),n.emit("update:normalVirtual"))}}),i.exports=u});
;/*!income_module/socketConnect.js*/
define("income_module/socketConnect",function(a){var i=a("TTP"),t=a("TTR"),n=a("TTA"),r=a("income_module/dataFactory");TT.log("dataFactory",r);var e=HUYA_UTIL.getCookieVal("yyuid"),d=function(a){var i=a.param.uri,t=a.param.data;r["uri_"+i]&&r["uri_"+i](t)},o=function(a){for(var i=a.param.data,t=0;t<i.length;t++)d({param:{data:i[t],uri:i[t].url}})};i.isFlash?(i.on("flashCallJs_activity",d,!0),i.on("EnterChannelToPullRsp",o,!0)):i.isH5&&i.ready(function(a){function i(){var a=new HUYA.ActivityMsgReq;a.lPid=n.lp,a.lSid=t.sid,a.lTid=t.id,e&&(a.tUserId.lUid=e),a.iChannelType=2003,a.iActivityId=r.actId,o.sendWup("ActivityUIServer","getActivityMsg",a)}for(var o=a,l=0;l<r.keyArr.length;l++)!function(a){function i(i){d({param:{uri:a,data:i}})}o.addTafListener(a,i)}(r.keyArr[l]);i()})});
;/*!income_widget/normal-anchor/normal-anchor.js*/
define("income_widget/normal-anchor/normal-anchor",function(require,exports,module){function render(){var def=new $.Deferred;$normal=$(".j_panel-wrap");var tpl=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+='<span class="normal-gift normal-gift_'+(null==(__t=app.common.gift.type)?"":__t)+'" title="活动礼物：'+(null==(__t=app.common.gift.name)?"":__t)+'"></span>\r\n<div class="normal-schedule"></div>\r\n<div class="normal-schedule_num j_normal-schedule">\r\n    <span class="schedule-now" style="width: '+(null==(__t=app.normalAnchor.anchorPre>100?100:app.normalAnchor.anchorPre)?"":__t)+'%;"></span>\r\n    <span class="schedule-num">'+(null==(__t=app.normalAnchor.anchorTaskProgres)?"":__t)+"/"+(null==(__t=app.normalAnchor.anchorTaskRequire)?"":__t)+'</span>\r\n</div>\r\n<span class="num-tips j_num-tips">'+(null==(__t=1==app.normalAnchor.taskFinish?"今日任务已全部完成":"当前任务LV"+app.normalAnchor.taskLv+",完成之后奖励"+app.normalAnchor.taskReward+"战力")?"":__t)+'</span>\r\n<span class="clearfix"></span>\r\n\r\n<div class="score-block">\r\n    <div class="normal-score">'+(null==(__t=1!=app.common.isGroupPk?"贡献":"")?"":__t)+'战力<span class="score-num">'+(null==(__t=app.normalAnchor.anchorScore)?"":__t)+'</span></div>\r\n    <span class="clearfix"></span>\r\n</div>';return __p};return $normal.find(".j_normal-anchor").html(tpl()),def.resolve(),def.promise()}var app=require("income_module/app");app.styleArr.push("input::-webkit-outer-spin-button,\ninput::-webkit-inner-spin-button {\n  -moz-appearance: none !important;\n  -webkit-appearance: none !important;\n  margin: 0;\n}\n\n.tips-general, .normal-anchor .num-tips {\n  display: none;\n  position: absolute;\n  left: 0;\n  line-height: 15px;\n  color: #e2ebf5;\n  padding: 2px 3px;\n  border: 1px solid #19346f;\n  border-radius: 3px;\n  background: #364c7b;\n}\n\n.panel-logo {\n  position: absolute;\n  display: block;\n  left: 10px;\n  top: 8px;\n  padding-right: 10px;\n  width: 159px;\n  height: 21px;\n  line-height: 40px;\n  color: #fff;\n  background: url(//www.huya.com/act/webAct/201810/img/icon_logo_7ade6.png) no-repeat 0 bottom;\n  text-align: right;\n  box-sizing: border-box;\n  cursor: pointer;\n  z-index: 4;\n}\n\n.panel-logo.entertainment {\n  width: 157px;\n  background: url(//www.huya.com/act/webAct/201810/img/icon_logo_2_9ecf8.png) no-repeat 0 bottom;\n}\n\n.panel-logo.entertainment:hover {\n  color: #fff;\n  background-position: -158px bottom;\n}\n\n.panel-logo.entertainment:active {\n  color: #fff;\n  background-position: -316px bottom;\n}\n\n.panel-logo:hover {\n  color: #fff;\n  background-position: -160px bottom;\n}\n\n.panel-logo:active {\n  color: #fff;\n  background-position: -320px bottom;\n}\n\n.panel-date {\n  position: absolute;\n  top: 0;\n  right: 0;\n  padding-left: 10px;\n  width: 102px;\n  height: 24px;\n  line-height: 24px;\n  text-align: center;\n  color: #fff;\n  background: url(//www.huya.com/act/webAct/201810/img/date_2840d.png) no-repeat center right;\n  box-sizing: border-box;\n}\n\n.hd-ctrl_rank {\n  position: absolute;\n  bottom: -16px;\n  left: 50%;\n  margin-left: -55px;\n  width: 110px;\n  height: 16px;\n  background: url(//www.huya.com/act/webAct/201810/img/icon_ctrl_down_6b7cf.png) no-repeat center center;\n  z-index: 1;\n}\n\n.hd-ctrl_rank.entertainment {\n  background: url(//www.huya.com/act/webAct/201810/img/icon_ctrl_down_2_7eb5b.png) no-repeat center center;\n}\n\n.hd-ctrl_rank:hover {\n  cursor: pointer;\n}\n\n.hd-ctrl_rank.hd-ctrl_rank_up {\n  background: url(//www.huya.com/act/webAct/201810/img/icon_ctrl_up_21977.png) no-repeat center center;\n}\n\n.normal-anchor {\n  position: relative;\n  float: left;\n  margin-top: 7px;\n  padding-left: 12px;\n  z-index: 3;\n}\n\n.normal-anchor .normal-gift {\n  float: left;\n  display: block;\n  width: 18px;\n  height: 18px;\n  border-radius: 3px;\n  background: url(/img/icon_gift_g.png) no-repeat center center;\n  background-color: #fff;\n}\n\n.normal-anchor .normal-gift.normal-gift_1 {\n  background-image: url(//www.huya.com/act/webAct/201810/img/icon_gift_1_a9d4b.png);\n}\n\n.normal-anchor .normal-gift.normal-gift_2 {\n  background-image: url(//www.huya.com/act/webAct/201810/img/icon_gift_2_accac.png);\n}\n\n.normal-anchor .normal-gift.normal-gift_4 {\n  background-image: url(//www.huya.com/act/webAct/201810/img/icon_gift_4_1e8fb.png);\n}\n\n.normal-anchor .normal-gift.normal-gift_2165 {\n  background-image: url(//www.huya.com/act/webAct/201810/img/icon_gift_2165_04ef2.png);\n}\n\n.normal-anchor .normal-gift.normal-gift_2336 {\n  background-image: url(//www.huya.com/act/webAct/201810/img/icon_gift_2336_9556d.png);\n}\n\n.normal-anchor .normal-gift.normal-gift_2633 {\n  background-image: url(//www.huya.com/act/webAct/201810/img/icon_gift_2633_d6ec1.png);\n}\n\n.normal-anchor .normal-gift.normal-gift_2752 {\n  background-image: url(//www.huya.com/act/webAct/201810/img/icon_gift_2752_3a54a.png);\n}\n\n.normal-anchor .normal-gift.normal-gift_2793 {\n  background-image: url(//www.huya.com/act/webAct/201810/img/icon_gift_2793_1c916.png);\n}\n\n.normal-anchor .normal-gift.normal-gift_3090 {\n  background-image: url(//www.huya.com/act/webAct/201810/img/icon_gift_3090_eafcc.png);\n}\n\n.normal-anchor .normal-gift.normal-gift_3203 {\n  background-image: url(//www.huya.com/act/webAct/201810/img/icon_gift_3203_ae33e.png);\n}\n\n.normal-anchor .normal-gift.normal-gift_3307 {\n  background-image: url(//www.huya.com/act/webAct/201810/img/icon_gift_3307_25292.png);\n}\n\n.normal-anchor .normal-schedule {\n  position: relative;\n  float: left;\n  margin: 1px 0;\n  margin-left: 5px;\n  width: 134px;\n  height: 18px;\n  border-radius: 30px;\n  background: rgba(255, 255, 255, 0.9);\n  overflow: hidden;\n}\n\n.normal-anchor .normal-schedule_num {\n  position: absolute;\n  width: 134px;\n  height: 18px;\n  top: 1px;\n  left: 35px;\n  border-radius: 10px;\n  overflow: hidden;\n}\n\n.normal-anchor .schedule-now, .normal-anchor .schedule-num {\n  position: absolute;\n  display: block;\n  height: 18px;\n  top: 0;\n  left: 0;\n  background: #dbbd66;\n  border-radius: 30px;\n}\n\n.normal-anchor .schedule-num {\n  width: 100%;\n  text-align: center;\n  color: #0a0237;\n  background: transparent;\n}\n\n.normal-anchor .num-tips {\n  top: 19px;\n  left: 35px;\n  white-space: nowrap;\n  z-index: 2;\n}\n\n.normal-anchor .score-block {\n  padding-top: 6px;\n}\n\n.normal-anchor .normal-role,\n.normal-anchor .normal-score,\n.normal-anchor .normal-rank {\n  float: left;\n  margin-left: 3px;\n  white-space: nowrap;\n  color: #ffffff;\n}\n\n.normal-anchor .normal-role {\n  margin-top: 2px;\n  padding: 0 4px;\n  line-height: 15px;\n  border-radius: 30px;\n}\n\n.normal-anchor .normal-role.normal-role_1 {\n  background-color: #6237cc;\n}\n\n.normal-anchor .normal-role.normal-role_2 {\n  background-color: #2292d9;\n}\n\n.normal-anchor .score-num {\n  margin: 0 3px;\n  vertical-align: top;\n  display: inline-block;\n  max-width: 64px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  word-wrap: normal;\n  word-break: normal;\n  color: #dfbe86;\n}\n\n.normal-anchor .rank-num {\n  color: #dfbe86;\n  margin: 0 3px;\n}\n");var $panel=$("#wrap-income"),$normal=null;!function(){$panel.on("mouseenter",".j_normal-schedule",function(){$(".j_num-tips").css({display:"block"})}).on("mouseleave",".j_normal-schedule",function(){$(".j_num-tips").css({display:"none"})})}();var anchor={init:function(){render()}};app.on("update:normalAnchor",function(){render()}),module.exports=anchor});
;/*!income_module/tools.js*/
define("income_module/tools",function(e,t){function n(){this.time=0,this.countdownTimer=null}var i=e("TTP"),r=(t.sendGift=function(e){i.call("giveGift",{num:e,fromType:1,type:20045})},t.resetScroll=function(e){var t={scrollbarWidth:6,mouseWheelSpeed:5,verticalGutter:5,isOutsideNotPrevent:!1};$(e).each(function(){var e=$(this).data("jsp");e?e.reinitialise():$(this).jScrollPane(t)})}),o=t.resize=function(){clearTimeout(o.timer),o.timer=setTimeout(function(){var e=$(".chat-room__bd"),t=e.height(),n=162,i=30,o=$(".j_rank-cnt .detail-list").length?$(".j_rank-cnt .detail-list")[0].offsetHeight:0,a=t-n-i,c=o>=a?a:o;$(".j_rank-cnt .detail-box").height(c),r(".j_detail-box")},100)};DUYA_SUB.subscribe("resizeWide",function(){o()});var a=t.timeFormat=function(e){var t=function(e){return 10>e?"0"+parseInt(e):parseInt(e)},n=e%60,i=parseInt(e/60);return t(i)+":"+t(n)},c=n.prototype;c.handle=function(){var e=this,t=parseInt((new Date).getTime()/1e3),n=e.time-t;n>=0?(e.callback&&e.callback(a(n)),clearTimeout(e.countdownTimer),e.clearTimeout=setTimeout(function(){e.run()},1e3)):e.callback&&e.callback(a(0))},c.run=function(){var e=this;e.handle()},c.constructor=n,t.Countdown=n;t.numberFormat=function(e){if(e>=1e4){var t=e/1e4;return(e%1e4?t.toFixed(1)==parseInt(t)?parseInt(t.toFixed(1)):t.toFixed(1):t)+"w"}if(1e4>e&e>=1e3){var t=e/1e3;return(e%1e3?t.toFixed(1)==parseInt(t)?parseInt(t.toFixed(1)):t.toFixed(1):t)+"k"}return e}});
;/*!income_widget/hover-panel/hover-panel.js*/
define("income_widget/hover-panel/hover-panel",function(require,exports,module){function render(n){var e=$(".j_income-hover-panel");e.length&&e.remove(),$chatroom.append(tpl(n))}var Event=require("Event"),app=require("income_module/app"),style="input::-webkit-outer-spin-button,\ninput::-webkit-inner-spin-button {\n  -moz-appearance: none !important;\n  -webkit-appearance: none !important;\n  margin: 0;\n}\n\n.tips-general {\n  display: none;\n  position: absolute;\n  left: 0;\n  line-height: 15px;\n  color: #e2ebf5;\n  padding: 2px 3px;\n  border: 1px solid #19346f;\n  border-radius: 3px;\n  background: #364c7b;\n}\n\n.panel-logo {\n  position: absolute;\n  display: block;\n  left: 10px;\n  top: 8px;\n  padding-right: 10px;\n  width: 159px;\n  height: 21px;\n  line-height: 40px;\n  color: #fff;\n  background: url(//www.huya.com/act/webAct/201810/img/icon_logo_7ade6.png) no-repeat 0 bottom;\n  text-align: right;\n  box-sizing: border-box;\n  cursor: pointer;\n  z-index: 4;\n}\n\n.panel-logo.entertainment {\n  width: 157px;\n  background: url(//www.huya.com/act/webAct/201810/img/icon_logo_2_9ecf8.png) no-repeat 0 bottom;\n}\n\n.panel-logo.entertainment:hover {\n  color: #fff;\n  background-position: -158px bottom;\n}\n\n.panel-logo.entertainment:active {\n  color: #fff;\n  background-position: -316px bottom;\n}\n\n.panel-logo:hover {\n  color: #fff;\n  background-position: -160px bottom;\n}\n\n.panel-logo:active {\n  color: #fff;\n  background-position: -320px bottom;\n}\n\n.panel-date {\n  position: absolute;\n  top: 0;\n  right: 0;\n  padding-left: 10px;\n  width: 102px;\n  height: 24px;\n  line-height: 24px;\n  text-align: center;\n  color: #fff;\n  background: url(//www.huya.com/act/webAct/201810/img/date_2840d.png) no-repeat center right;\n  box-sizing: border-box;\n}\n\n.hd-ctrl_rank {\n  position: absolute;\n  bottom: -16px;\n  left: 50%;\n  margin-left: -55px;\n  width: 110px;\n  height: 16px;\n  background: url(//www.huya.com/act/webAct/201810/img/icon_ctrl_down_6b7cf.png) no-repeat center center;\n  z-index: 1;\n}\n\n.hd-ctrl_rank.entertainment {\n  background: url(//www.huya.com/act/webAct/201810/img/icon_ctrl_down_2_7eb5b.png) no-repeat center center;\n}\n\n.hd-ctrl_rank:hover {\n  cursor: pointer;\n}\n\n.hd-ctrl_rank.hd-ctrl_rank_up {\n  background: url(//www.huya.com/act/webAct/201810/img/icon_ctrl_up_21977.png) no-repeat center center;\n}\n\n.income-hover-panel {\n  position: absolute;\n  width: 296px;\n  background-color: #242738;\n  border: 2px solid #595c69;\n  border-radius: 15px;\n  overflow: hidden;\n  z-index: 101;\n}\n\n.income-hover-panel .hover-tips {\n  height: 36px;\n  line-height: 36px;\n  text-align: center;\n  color: #ffebc9;\n  background-color: #131521;\n}\n\n.income-hover-panel .hover-tips .bold {\n  font-size: 14px;\n  font-weight: bold;\n}\n\n.income-hover-panel .hover-score {\n  position: relative;\n  line-height: 46px;\n  text-align: center;\n  color: #dfbe86;\n  font-size: 14px;\n}\n\n.income-hover-panel .hover-score .nick_left, .income-hover-panel .hover-score .nick_right {\n  position: absolute;\n  top: 0;\n  width: 6em;\n  text-align: center;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  word-wrap: normal;\n  word-break: normal;\n}\n\n.income-hover-panel .hover-score .nick_left {\n  right: 180px;\n}\n\n.income-hover-panel .hover-score .nick_right {\n  left: 180px;\n}\n\n.income-hover-panel .turn-box {\n  position: relative;\n  margin: 0 auto 20px auto;\n  width: 212px;\n  height: 72px;\n  color: #251c0d;\n  background: url(//www.huya.com/act/webAct/201810/img/hoverArea_34108.png) no-repeat center center;\n}\n\n.income-hover-panel .turn-box:hover .item-nick {\n  color: #251c0d;\n}\n\n.income-hover-panel .turn-item {\n  position: absolute;\n  width: 6em;\n  height: 58px;\n  top: 0;\n}\n\n.income-hover-panel .turn-item.turn-item_left {\n  left: 8px;\n}\n\n.income-hover-panel .turn-item.turn-item_right {\n  right: 8px;\n}\n\n.income-hover-panel .turn-item .item-img {\n  display: block;\n  margin: 7px auto 3px auto;\n  width: 38px;\n  height: 38px;\n  border: 1px solid #2a2b2c;\n  border-radius: 50%;\n  background-color: #2a2b2c;\n}\n\n.income-hover-panel .turn-item .item-nick {\n  display: block;\n  color: #251c0d;\n  text-align: center;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  word-wrap: normal;\n  word-break: normal;\n}\n\n.income-hover-panel .turn-item .isLiving {\n  position: absolute;\n  display: block;\n  top: 35px;\n  right: 15px;\n  width: 14px;\n  height: 14px;\n  background: url(//www.huya.com/act/webAct/201810/img/icon_living_7e53e.png) no-repeat center center;\n}\n\n.income-hover-panel .turn-item .icon-resutl {\n  position: absolute;\n  display: block;\n  width: 20px;\n  height: 25px;\n  top: 25px;\n  right: 15px;\n}\n\n.income-hover-panel .turn-item .icon-resutl.win {\n  background: url(//www.huya.com/act/webAct/201810/img/icon_win_s_bdc23.png) no-repeat center center;\n}\n\n.income-hover-panel .turn-item .icon-resutl.lose {\n  background: url(//www.huya.com/act/webAct/201810/img/icon_lose_s_b75a9.png) no-repeat center center;\n}\n\n.income-hover-panel .turn-schedule {\n  position: absolute;\n  display: block;\n  top: 17px;\n  left: 73px;\n  width: 66px;\n  line-height: 18px;\n  text-align: center;\n}\n";app.styleArr.push(style);var panel=new Event;$.extend(panel,{rankIndex:null,type:null,clearTimer:null});var $chatroom=$(".room-sidebar"),tpl=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+='<div class="income-hover-panel j_income-hover-panel">\r\n    <div class="hover-tips"><i class="bold">'+(null==(__t=obj.hour)?"":__t)+'点对决</i> 败方公会将被抢走1/8战力</div>\r\n    <p class="hover-score"><i class="nick_left">'+(null==(__t=obj.left.name)?"":_.escape(__t))+'</i><i class="score">'+(null==(__t=obj.left.score)?"":__t)+":"+(null==(__t=obj.right.score)?"":__t)+'</i><i class="nick_right">'+(null==(__t=obj.right.name)?"":_.escape(__t))+"</i></p>\r\n    ";for(var i=0;3>i;i++){var item=obj.turn[i];__p+='\r\n    <div class="turn-box">\r\n        <a class="turn-item turn-item_left" href="'+(null==(__t="https://www.huya.com/"+TT.createRoomHost(null,item.left.roomId,item.left.yy))?"":__t)+'" target="_blank">\r\n            <img class="item-img" src="'+(null==(__t=TT.trimUrl(item.left.img))?"":__t)+'" alt="">\r\n            <span class="item-nick">'+(null==(__t=item.left.nick)?"":_.escape(__t))+"</span>\r\n            ",item.willPk?(__p+="\r\n            ",item.left.sid&&item.left.tid&&(__p+='<i class="isLiving"></i>'),__p+="\r\n            "):__p+='\r\n            <i class="icon-resutl '+(null==(__t=item.left.isWin?"win":"lose")?"":__t)+'"></i>\r\n            ',__p+='\r\n        </a>\r\n        <a class="turn-item turn-item_right" href="'+(null==(__t="https://www.huya.com/"+TT.createRoomHost(null,item.right.roomId,item.right.yy))?"":__t)+'" target="_blank">\r\n            <img class="item-img" src="'+(null==(__t=TT.trimUrl(item.right.img))?"":__t)+'" alt="">\r\n            <span class="item-nick">'+(null==(__t=item.right.nick)?"":_.escape(__t))+"</span>\r\n            ",item.willPk?(__p+="\r\n            ",item.right.sid&&item.right.tid&&(__p+='<i class="isLiving"></i>'),__p+="\r\n            "):__p+='\r\n            <i class="icon-resutl '+(null==(__t=item.right.isWin?"win":"lose")?"":__t)+'"></i>\r\n            ',__p+='\r\n        </a>\r\n        <span class="turn-schedule">'+(null==(__t=item.schedule)?"":__t)+"</span>\r\n    </div>\r\n    "}__p+="\r\n</div>"}return __p};!function(){$chatroom.on("mouseenter",".j_income-hover-panel",function(){clearTimeout(panel.clearTimer)}).on("mouseleave",".j_income-hover-panel",function(){clearTimeout(panel.clearTimer),panel.clearTimer=setTimeout(function(){panel.remove()},200)})}(),panel.insert=function(n,e,t,o){panel.type=t,panel.position=e,panel.rankIndex=o||0,render(n);var i=$(".j_income-hover-panel");i.css({top:e.top,left:e.left})},panel.remove=function(){panel.type=null,$(".j_income-hover-panel").remove()},panel.on("update:hoverPanel",function(n){if(panel.type==n.type){var e;e="rank"==n.type?n.data[panel.rankIndex].team:n.data,render(e);var t=$(".j_income-hover-panel");t.css({top:panel.position.top,left:panel.position.left})}}),module.exports=panel});
;/*!income_widget/normal-virtual/normal-virtual.js*/
define("income_widget/normal-virtual/normal-virtual",function(require,exports,module){function render_1(){$normal=$(".j_panel-wrap");var tpl=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+='<div class="virtual_1">\r\n    ',app.union.inRise&&(__p+='<i class="rise-tag"></i>'),__p+='\r\n    <p class="union-name">'+(null==(__t=app.union.name)?"":_.escape(__t))+'</p>\r\n    <p class="union-score">总战力&nbsp;'+(null==(__t=app.union.score)?"":__t)+"</p>\r\n</div>";return __p};$normal.find(".j_normal-virtual").html(tpl())}function render_2(){$normal=$(".j_panel-wrap");var tpl=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+='<div class="virtual_2">\r\n    <div class="pk-item" title="'+(null==(__t=app.groupPk.teammate.nick)?"":_.escape(__t))+'">\r\n        <img class="item-img" src="'+(null==(__t=TT.trimUrl(app.groupPk.teammate.img))?"":__t)+'" alt="" onerror="this.onerror=null; this.src=\'https://www.huya.com/act/webAct/201810/img/icon_default.png\'" title="'+(null==(__t=app.groupPk.teammate.nick)?"":_.escape(__t))+'">\r\n        <span class="item-score">'+(null==(__t=app.groupPk.teammate.score)?"":__t)+"</span>\r\n        ",app.groupPk.isTeammate&&(__p+='\r\n        <i class="item-mine">我方</i>\r\n        '),__p+='\r\n    </div>\r\n    <div class="pk-item" title="'+(null==(__t=app.groupPk.enemy.nick)?"":_.escape(__t))+'">\r\n        <img class="item-img" src="'+(null==(__t=TT.trimUrl(app.groupPk.enemy.img))?"":__t)+'" alt="" onerror="this.onerror=null; this.src=\'https://www.huya.com/act/webAct/201810/img/icon_default.png\'" title="'+(null==(__t=app.groupPk.enemy.nick)?"":_.escape(__t))+'">\r\n        <span class="item-score">'+(null==(__t=app.groupPk.enemy.score)?"":__t)+"</span>\r\n        ",app.groupPk.isTeammate||(__p+='\r\n        <i class="item-mine">我方</i>\r\n        '),__p+='\r\n    </div>\r\n    <i class="icon-vs"></i>\r\n</div>';return __p};$normal.find(".j_normal-virtual").html(tpl())}function render_3(){$normal=$(".j_panel-wrap");var tpl=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+='<div class="virtual_3'+(null==(__t=4!=app.virtualPk.status?"":" result")?"":__t)+'">\r\n    ',4!=app.virtualPk.status?(__p+='\r\n    <a class="pk-item" href="'+(null==(__t=TT.createRoomHost(app.virtualPk.left.roomId,app.virtualPk.left.roomId,app.virtualPk.left.yy))?"":__t)+'" target="_blank">\r\n        <i class="icon-tag mine">'+(null==(__t=app.virtualPk.isAttack?"我方":"敌方")?"":__t)+'</i>\r\n        <img class="item-img" src="'+(null==(__t=TT.trimUrl(app.virtualPk.left.img))?"":__t)+'" alt="" onerror="this.onerror=null; this.src=\'https://www.huya.com/act/webAct/201810/img/icon_default.png\'">\r\n        ',3==app.virtualPk.status&&(__p+='\r\n        <i class="result-tag '+(null==(__t=app.virtualPk.left.isWin?"win":"lose")?"":__t)+'"></i>\r\n        '),__p+='\r\n    </a>\r\n    <a class="pk-item" href="'+(null==(__t=TT.createRoomHost(app.virtualPk.right.roomId,app.virtualPk.right.roomId,app.virtualPk.right.yy))?"":__t)+'" target="_blank">\r\n        <i class="icon-tag enemy">'+(null==(__t=app.virtualPk.isAttack?"敌方":"我方")?"":__t)+'</i>\r\n        <img class="item-img" src="'+(null==(__t=TT.trimUrl(app.virtualPk.right.img))?"":__t)+'" alt="" onerror="this.onerror=null; this.src=\'https://www.huya.com/act/webAct/201810/img/icon_default.png\'">\r\n        ',3==app.virtualPk.status&&(__p+='\r\n        <i class="result-tag '+(null==(__t=app.virtualPk.right.isWin?"win":"lose")?"":__t)+'"></i>\r\n        '),__p+='\r\n    </a>\r\n    <div class="pk-msg">\r\n        <span class="pk-point">'+(null==(__t=app.virtualPk.left.score+" : "+app.virtualPk.right.score)?"":__t)+"</span>\r\n        ",__p+=1==app.virtualPk.status?'\r\n        <span class="msg-cnt oneLine">对决中</span>\r\n        ':3==app.virtualPk.status?'\r\n        <span class="msg-cnt oneLine">结束</span>\r\n        ':'\r\n        <span class="msg-cnt">'+(null==(__t=app.virtualPk.schedule)?"":__t)+"</span>\r\n        ",__p+="\r\n    </div>\r\n    "):(__p+='\r\n    <p class="result-msg bold"><i class="icon-tag '+(null==(__t=app.virtualPk.result.isAttack?"mine":"enemy")?"":__t)+'">我方</i>&nbsp;'+(null==(__t=app.virtualPk.left.score+":"+app.virtualPk.right.score)?"":__t)+"&nbsp;"+(null==(__t=app.virtualPk.result.isWin?"获胜":"战败")?"":__t)+"</p>\r\n    ",__p+=app.virtualPk.result.isWin?'\r\n    <p class="result-msg">出战者瓜分'+(null==(__t=app.virtualPk.result.delta)?"":__t)+"</p>\r\n    ":'\r\n    <p class="result-msg">公会全员损失1/8战力</p>\r\n    ',__p+="\r\n    "),__p+="\r\n</div>";return __p};$normal.find(".j_normal-virtual").html(tpl())}function choiceRender(){1==app.config.status&&(app.common.stage>=3&&app.common.stage<=7?0==app.virtualPk.status?(render_2(),app.emit("update:normalDate:show")):(render_3(),app.emit("update:normalDate:hide")):0==app.virtualPk.status?(render_1(),app.emit("update:normalDate:show")):(render_3(),app.emit("update:normalDate:hide")))}var app=(require("income_module/tools"),require("income_module/app")),hoverPanel=require("income_widget/hover-panel/hover-panel");app.styleArr.push("input::-webkit-outer-spin-button,\ninput::-webkit-inner-spin-button {\n  -moz-appearance: none !important;\n  -webkit-appearance: none !important;\n  margin: 0;\n}\n\n.tips-general {\n  display: none;\n  position: absolute;\n  left: 0;\n  line-height: 15px;\n  color: #e2ebf5;\n  padding: 2px 3px;\n  border: 1px solid #19346f;\n  border-radius: 3px;\n  background: #364c7b;\n}\n\n.panel-logo {\n  position: absolute;\n  display: block;\n  left: 10px;\n  top: 8px;\n  padding-right: 10px;\n  width: 159px;\n  height: 21px;\n  line-height: 40px;\n  color: #fff;\n  background: url(//www.huya.com/act/webAct/201810/img/icon_logo_7ade6.png) no-repeat 0 bottom;\n  text-align: right;\n  box-sizing: border-box;\n  cursor: pointer;\n  z-index: 4;\n}\n\n.panel-logo.entertainment {\n  width: 157px;\n  background: url(//www.huya.com/act/webAct/201810/img/icon_logo_2_9ecf8.png) no-repeat 0 bottom;\n}\n\n.panel-logo.entertainment:hover {\n  color: #fff;\n  background-position: -158px bottom;\n}\n\n.panel-logo.entertainment:active {\n  color: #fff;\n  background-position: -316px bottom;\n}\n\n.panel-logo:hover {\n  color: #fff;\n  background-position: -160px bottom;\n}\n\n.panel-logo:active {\n  color: #fff;\n  background-position: -320px bottom;\n}\n\n.panel-date {\n  position: absolute;\n  top: 0;\n  right: 0;\n  padding-left: 10px;\n  width: 102px;\n  height: 24px;\n  line-height: 24px;\n  text-align: center;\n  color: #fff;\n  background: url(//www.huya.com/act/webAct/201810/img/date_2840d.png) no-repeat center right;\n  box-sizing: border-box;\n}\n\n.hd-ctrl_rank {\n  position: absolute;\n  bottom: -16px;\n  left: 50%;\n  margin-left: -55px;\n  width: 110px;\n  height: 16px;\n  background: url(//www.huya.com/act/webAct/201810/img/icon_ctrl_down_6b7cf.png) no-repeat center center;\n  z-index: 1;\n}\n\n.hd-ctrl_rank.entertainment {\n  background: url(//www.huya.com/act/webAct/201810/img/icon_ctrl_down_2_7eb5b.png) no-repeat center center;\n}\n\n.hd-ctrl_rank:hover {\n  cursor: pointer;\n}\n\n.hd-ctrl_rank.hd-ctrl_rank_up {\n  background: url(//www.huya.com/act/webAct/201810/img/icon_ctrl_up_21977.png) no-repeat center center;\n}\n\n.normal-virtual {\n  position: relative;\n  float: right;\n  margin-right: 10px;\n  color: #251c0d;\n}\n\n.normal-virtual .virtual_1,\n.normal-virtual .virtual_2 {\n  position: relative;\n  margin-top: -8px;\n  width: 142px;\n  height: 60px;\n  background: url(//www.huya.com/act/webAct/201810/img/msgArea_7c538.png);\n}\n\n.normal-virtual .virtual_1 {\n  padding-top: 10px;\n}\n\n.normal-virtual .virtual_1 .union-name {\n  margin: 0 auto;\n  width: 9em;\n  text-align: center;\n  font-weight: bold;\n  font-size: 14px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  word-wrap: normal;\n  word-break: normal;\n}\n\n.normal-virtual .virtual_1 .union-score {\n  text-align: center;\n}\n\n.normal-virtual .virtual_1 .rise-tag {\n  position: absolute;\n  top: -8px;\n  right: -5px;\n  width: 37px;\n  height: 24px;\n  background: url(//www.huya.com/act/webAct/201810/img/icon_riseArea_b9ab6.png);\n}\n\n.normal-virtual .virtual_2 {\n  padding-top: 7px;\n  text-align: center;\n}\n\n.normal-virtual .virtual_2 .pk-item {\n  position: relative;\n  margin: 0 9px;\n  display: inline-block;\n  width: 50px;\n  vertical-align: top;\n}\n\n.normal-virtual .virtual_2 .item-img {\n  width: 34px;\n  height: 34px;\n  border-radius: 50%;\n  border: 1px solid #262728;\n  background-color: #363738;\n}\n\n.normal-virtual .virtual_2 .item-mine {\n  position: absolute;\n  padding: 0 3px;\n  bottom: 17px;\n  left: 10px;\n  line-height: 14px;\n  font-size: 10px;\n  background: #1c1e26;\n  border-radius: 30px;\n  color: #e4d18c;\n}\n\n.normal-virtual .virtual_2 .item-score {\n  position: relative;\n  display: block;\n  width: 60px;\n  left: -5px;\n  text-align: center;\n}\n\n.normal-virtual .virtual_2 .icon-vs {\n  position: absolute;\n  margin-left: -13px;\n  top: 2px;\n  left: 50%;\n  width: 29px;\n  height: 56px;\n  background: url(//www.huya.com/act/webAct/201810/img/icon_vs_ce792.png);\n}\n\n.normal-virtual .virtual_3 {\n  position: relative;\n  margin-top: -28px;\n  padding-top: 20px;\n  width: 150px;\n  height: 80px;\n  color: #251c0d;\n  background: url(//www.huya.com/act/webAct/201810/img/virtual_603e4.png) no-repeat center center;\n}\n\n.normal-virtual .virtual_3.result {\n  padding-top: 28px;\n}\n\n.normal-virtual .virtual_3 .icon-tag {\n  line-height: 14px;\n  padding: 0 5px;\n  color: #fff;\n  border-radius: 30px;\n  font-weight: normal;\n}\n\n.normal-virtual .virtual_3 .icon-tag.mine {\n  background-color: #d5484f;\n}\n\n.normal-virtual .virtual_3 .icon-tag.enemy {\n  background-color: #17b3ce;\n}\n\n.normal-virtual .virtual_3 .item-img {\n  border-radius: 50%;\n}\n\n.normal-virtual .virtual_3 .pk-item {\n  display: block;\n  position: relative;\n  margin: 0 19px;\n  display: inline-block;\n  width: 34px;\n  text-align: center;\n  vertical-align: top;\n}\n\n.normal-virtual .virtual_3 .pk-msg {\n  position: absolute;\n  width: 41px;\n  top: 19px;\n  left: 54px;\n  text-align: center;\n}\n\n.normal-virtual .virtual_3 .pk-msg .pk-point {\n  font-weight: bold;\n  display: block;\n}\n\n.normal-virtual .virtual_3 .pk-msg .msg-cnt {\n  display: block;\n}\n\n.normal-virtual .virtual_3 .pk-msg .msg-cnt.oneLine {\n  margin-top: 7px;\n}\n\n.normal-virtual .virtual_3 .result-tag {\n  position: absolute;\n  right: -3px;\n  bottom: -3px;\n  width: 20px;\n  height: 25px;\n}\n\n.normal-virtual .virtual_3 .result-tag.win {\n  background: url(//www.huya.com/act/webAct/201810/img/icon_win_s_bdc23.png);\n}\n\n.normal-virtual .virtual_3 .result-tag.lose {\n  background: url(//www.huya.com/act/webAct/201810/img/icon_lose_s_b75a9.png);\n}\n\n.normal-virtual .virtual_3 .result-msg {\n  line-height: 20px;\n  text-align: center;\n}\n\n.normal-virtual .virtual_3 .result-msg.bold {\n  font-weight: bold;\n}\n");var $panel=$("#wrap-income"),$normal=null;!function(){$panel.on("mouseenter",".virtual_3",function(){4!=app.virtualPk.status&&(clearTimeout(hoverPanel.clearTimer),hoverPanel.insert(app.hover,{top:230,left:20},"virtual"))}).on("mouseleave",".virtual_3",function(){clearTimeout(hoverPanel.clearTimer),hoverPanel.clearTimer=setTimeout(function(){hoverPanel.remove()},200)})}();var anchor={init:function(){choiceRender()}};app.on("update:normalVirtual",function(){choiceRender()}),module.exports=anchor});
;/*!income_widget/normal/normal.js*/
define("income_widget/normal/normal",function(require,exports,module){function render(){var def=new $.Deferred;$normal=$(".j_panel-wrap");var tpl=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+='<a class="panel-logo'+(null==(__t=1==app.common.role?" entertainment":"")?"":__t)+'" href="https://layer.huya.com/live/201810activity/index" target="_blank"></a>\r\n\r\n<span class="panel-date">'+(null==(__t=app.config.dateDesc[app.common.stage])?"":__t)+'</span>\r\n\r\n<div class="normal-anchor j_normal-anchor"></div>\r\n<div class="normal-virtual j_normal-virtual"></div>\r\n<span class="clearfix"></span>\r\n\r\n<span class="hd-ctrl_rank hd-ctrl_rank-down j_hd-ctrl_rank-down'+(null==(__t=1==app.common.role?" entertainment":"")?"":__t)+'"></span>';return __p};return $normal.html(tpl()),def.resolve(),def.promise()}var tools=require("tools"),app=require("income_module/app"),normalAnchor=require("income_widget/normal-anchor/normal-anchor"),normalVirtual=require("income_widget/normal-virtual/normal-virtual");app.styleArr.push("input::-webkit-outer-spin-button,\ninput::-webkit-inner-spin-button {\n  -moz-appearance: none !important;\n  -webkit-appearance: none !important;\n  margin: 0;\n}\n\n.tips-general {\n  display: none;\n  position: absolute;\n  left: 0;\n  line-height: 15px;\n  color: #e2ebf5;\n  padding: 2px 3px;\n  border: 1px solid #19346f;\n  border-radius: 3px;\n  background: #364c7b;\n}\n\n.panel-logo {\n  position: absolute;\n  display: block;\n  left: 10px;\n  top: 8px;\n  padding-right: 10px;\n  width: 159px;\n  height: 21px;\n  line-height: 40px;\n  color: #fff;\n  background: url(//www.huya.com/act/webAct/201810/img/icon_logo_7ade6.png) no-repeat 0 bottom;\n  text-align: right;\n  box-sizing: border-box;\n  cursor: pointer;\n  z-index: 4;\n}\n\n.panel-logo.entertainment {\n  width: 157px;\n  background: url(//www.huya.com/act/webAct/201810/img/icon_logo_2_9ecf8.png) no-repeat 0 bottom;\n}\n\n.panel-logo.entertainment:hover {\n  color: #fff;\n  background-position: -158px bottom;\n}\n\n.panel-logo.entertainment:active {\n  color: #fff;\n  background-position: -316px bottom;\n}\n\n.panel-logo:hover {\n  color: #fff;\n  background-position: -160px bottom;\n}\n\n.panel-logo:active {\n  color: #fff;\n  background-position: -320px bottom;\n}\n\n.panel-date {\n  position: absolute;\n  top: 0;\n  right: 0;\n  padding-left: 10px;\n  width: 102px;\n  height: 24px;\n  line-height: 24px;\n  text-align: center;\n  color: #fff;\n  background: url(//www.huya.com/act/webAct/201810/img/date_2840d.png) no-repeat center right;\n  box-sizing: border-box;\n}\n\n.hd-ctrl_rank {\n  position: absolute;\n  bottom: -16px;\n  left: 50%;\n  margin-left: -55px;\n  width: 110px;\n  height: 16px;\n  background: url(//www.huya.com/act/webAct/201810/img/icon_ctrl_down_6b7cf.png) no-repeat center center;\n  z-index: 1;\n}\n\n.hd-ctrl_rank.entertainment {\n  background: url(//www.huya.com/act/webAct/201810/img/icon_ctrl_down_2_7eb5b.png) no-repeat center center;\n}\n\n.hd-ctrl_rank:hover {\n  cursor: pointer;\n}\n\n.hd-ctrl_rank.hd-ctrl_rank_up {\n  background: url(//www.huya.com/act/webAct/201810/img/icon_ctrl_up_21977.png) no-repeat center center;\n}\n\n.panel-wrap_normal {\n  padding-top: 40px;\n  height: 60px;\n  background: url(//www.huya.com/act/webAct/201810/img/bg_normal_5da60.jpg) center top;\n}\n\n.panel-wrap_normal.entertainment {\n  background: url(//www.huya.com/act/webAct/201810/img/bg_normal_2_86362.jpg) center top;\n}\n");var $normal=($("#wrap-income"),null),normal={init:function(){$.when(render()).done(function(){normalAnchor.init(),normalVirtual.init(),tools.importStyle(app.styleArr.join(" "),"incomeStyle")}).done(function(){var n=1==app.common.role?" entertainment":"";$normal.prop("class","panel-wrap j_panel-wrap panel-wrap_normal"+n)})}};app.on("update:normalDate",function(){var n=$normal.find(".panel-date");n&&n.html(app.config.dateDesc[app.common.stage])}),app.on("update:normalDate:hide",function(){var n=$normal.find(".panel-date");n&&n.hide()}),app.on("update:normalDate:show",function(){var n=$normal.find(".panel-date");n&&n.show()}),module.exports=normal});
;/*!income_widget/end/end.js*/
define("income_widget/end/end",function(require,exports,module){function render(){var def=new $.Deferred;$end=$(".j_panel-wrap");var tpl=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+='<div class="end-wrap">\r\n    <a class="panel-logo logo-end'+(null==(__t=1==app.common.role?" entertainment":"")?"":__t)+'" href="https://layer.huya.com/live/201810activity/index" target="_blank"></a>\r\n    <span class="panel-date">已结束</span>\r\n    <span class="end-item">\r\n        <img class="item-img" src="'+(null==(__t=TT.trimUrl(app.end.best.img))?"":__t)+'" alt="" onerror="this.onerror=null; this.src=\'https://www.huya.com/act/webAct/201810/img/icon_default.png\'">\r\n        <span class="item-msg bold">巅峰'+(null==(__t=app.config.roleDesc[app.common.role])?"":__t)+'公会</span>\r\n        <span class="item-msg">'+(null==(__t=app.end.best.name)?"":_.escape(__t))+'</span>\r\n    </span>\r\n    <span class="end-item">\r\n        <img class="item-img" src="'+(null==(__t=TT.trimUrl(app.end.excellent.img))?"":__t)+'" alt="" onerror="this.onerror=null; this.src=\'https://www.huya.com/act/webAct/201810/img/icon_default.png\'">\r\n        <span class="item-msg bold">荣耀'+(null==(__t=app.config.roleDesc[app.common.role])?"":__t)+'公会</span>\r\n        <span class="item-msg">'+(null==(__t=app.end.excellent.name)?"":_.escape(__t))+"</span>\r\n    </span>\r\n</div>";return __p};return $end.html(tpl()),def.resolve(),def.promise()}var tools=require("tools"),app=require("income_module/app");app.styleArr.push("input::-webkit-outer-spin-button,\ninput::-webkit-inner-spin-button {\n  -moz-appearance: none !important;\n  -webkit-appearance: none !important;\n  margin: 0;\n}\n\n.tips-general {\n  display: none;\n  position: absolute;\n  left: 0;\n  line-height: 15px;\n  color: #e2ebf5;\n  padding: 2px 3px;\n  border: 1px solid #19346f;\n  border-radius: 3px;\n  background: #364c7b;\n}\n\n.panel-logo {\n  position: absolute;\n  display: block;\n  left: 10px;\n  top: 8px;\n  padding-right: 10px;\n  width: 159px;\n  height: 21px;\n  line-height: 40px;\n  color: #fff;\n  background: url(//www.huya.com/act/webAct/201810/img/icon_logo_7ade6.png) no-repeat 0 bottom;\n  text-align: right;\n  box-sizing: border-box;\n  cursor: pointer;\n  z-index: 4;\n}\n\n.panel-logo.entertainment {\n  width: 157px;\n  background: url(//www.huya.com/act/webAct/201810/img/icon_logo_2_9ecf8.png) no-repeat 0 bottom;\n}\n\n.panel-logo.entertainment:hover {\n  color: #fff;\n  background-position: -158px bottom;\n}\n\n.panel-logo.entertainment:active {\n  color: #fff;\n  background-position: -316px bottom;\n}\n\n.panel-logo:hover {\n  color: #fff;\n  background-position: -160px bottom;\n}\n\n.panel-logo:active {\n  color: #fff;\n  background-position: -320px bottom;\n}\n\n.panel-date {\n  position: absolute;\n  top: 0;\n  right: 0;\n  padding-left: 10px;\n  width: 102px;\n  height: 24px;\n  line-height: 24px;\n  text-align: center;\n  color: #fff;\n  background: url(//www.huya.com/act/webAct/201810/img/date_2840d.png) no-repeat center right;\n  box-sizing: border-box;\n}\n\n.hd-ctrl_rank {\n  position: absolute;\n  bottom: -16px;\n  left: 50%;\n  margin-left: -55px;\n  width: 110px;\n  height: 16px;\n  background: url(//www.huya.com/act/webAct/201810/img/icon_ctrl_down_6b7cf.png) no-repeat center center;\n  z-index: 1;\n}\n\n.hd-ctrl_rank.entertainment {\n  background: url(//www.huya.com/act/webAct/201810/img/icon_ctrl_down_2_7eb5b.png) no-repeat center center;\n}\n\n.hd-ctrl_rank:hover {\n  cursor: pointer;\n}\n\n.hd-ctrl_rank.hd-ctrl_rank_up {\n  background: url(//www.huya.com/act/webAct/201810/img/icon_ctrl_up_21977.png) no-repeat center center;\n}\n\n.panel-wrap_end {\n  height: 100px;\n  background: url(//www.huya.com/act/webAct/201810/img/bg_normal_5da60.jpg) center top;\n}\n\n.panel-wrap_end.entertainment {\n  background: url(//www.huya.com/act/webAct/201810/img/bg_normal_2_86362.jpg) center top;\n}\n\n.panel-wrap_end .end-wrap {\n  position: absolute;\n  padding-top: 30px;\n  top: 0;\n  width: 338px;\n  height: 100%;\n  overflow: hidden;\n}\n\n.panel-wrap_end .end-item {\n  float: left;\n  display: block;\n  margin-top: 4px;\n  margin-left: 15px;\n  margin-right: 10px;\n  padding-top: 10px;\n  padding-left: 10px;\n  width: 142px;\n  height: 60px;\n  background: url(//www.huya.com/act/webAct/201810/img/msgArea_7c538.png);\n  color: #251c0d;\n}\n\n.panel-wrap_end .end-item:hover {\n  color: #251c0d;\n}\n\n.panel-wrap_end .item-img {\n  float: left;\n  width: 39px;\n  height: 39px;\n  border-radius: 50%;\n  border: 1px solid #28292a;\n  background-color: #28292a;\n}\n\n.panel-wrap_end .item-msg {\n  float: left;\n  display: block;\n  width: 6em;\n  margin-top: 4px;\n  margin-left: 4px;\n  line-height: 14px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  word-wrap: normal;\n  word-break: normal;\n}\n\n.panel-wrap_end .item-msg.bold {\n  font-weight: bold;\n}\n");var $end=($("#wrap-income"),null),end={init:function(){$.when(render()).done(function(){tools.importStyle(app.styleArr.join(" "),"incomeStyle")}).done(function(){var n=1==app.common.role?" entertainment":"";$end.prop("class","panel-wrap j_panel-wrap panel-wrap_end"+n)})}};module.exports=end});
;/*!income_widget/pk-send/pk-send.js*/
define("income_widget/pk-send/pk-send",function(require,exports,module){function render(){var def=new $.Deferred,tpl=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+="",app.common.stage<3&&(__p+='\r\n<span class="send-tag">'+(null==(__t=app.player.isAttack?"进攻方":"防守方")?"":__t)+"</span>\r\n"),__p+="\r\n",__p+=app.player.isFirstTime?'\r\n<p class="send-tips"><i class="icon-first"></i>送第一个[超级兵]，可为PK进度条加3</p>\r\n':'\r\n    <p class="send-tips">赠送[超级兵]，帮助主播取胜！</p>\r\n',__p+='\r\n<span class="send-gift"></span>\r\n<div class="send-input">\r\n    <input class="input-box" type="number" max="9999" value="'+(null==(__t=app.player.amount)?"":__t)+'">\r\n    <span class="input-btn"></span>\r\n</div>\r\n<span class="send-tab'+(null==(__t=1==app.player.current?" current":"")?"":__t)+'" data-tab="1" data-amount="188">188</span>\r\n<span class="send-tab'+(null==(__t=2==app.player.current?" current":"")?"":__t)+'" data-tab="2" data-amount="1314">1314</span>\r\n<span class="send-tab'+(null==(__t=3==app.player.current?" current":"")?"":__t)+'" data-tab="3" data-amount="9999">9999</span>';return __p};if($chat.find(".income-pk-send").length)$chat.find(".income-pk-send").html(tpl());else{var className=function(){return app.common.stage<3?app.player.isAttack?"attack":"defend":"groupPk"}(),html='<div class="income-pk-send '+className+'">'+tpl()+"</div>";$chat.append(html)}return def.resolve(),def.promise()}function remove(){$chat.find(".income-pk-send").remove()}var hdTools=require("income_module/tools"),app=require("income_module/app");app.styleArr.push(".income-pk-send {\n  position: absolute;\n  bottom: 0;\n  height: 68px;\n  background-color: #292d40;\n  width: 100%;\n  border-top: 2px solid transparent;\n  overflow: hidden;\n  z-index: 3;\n}\n\n.income-pk-send.attack {\n  border-color: #c13844;\n}\n\n.income-pk-send.attack .send-tag {\n  background: url(//www.huya.com/act/webAct/201810/img/icon_attack_cd84e.png);\n}\n\n.income-pk-send.defend {\n  border-color: #00b1d7;\n}\n\n.income-pk-send.defend .send-tag {\n  background: url(//www.huya.com/act/webAct/201810/img/icon_defend_111c7.png);\n}\n\n.income-pk-send.groupPk {\n  border-color: transparent;\n}\n\n.income-pk-send .send-tag {\n  position: absolute;\n  top: 0;\n  right: 0;\n  padding-left: 21px;\n  display: block;\n  width: 67px;\n  height: 17px;\n  line-height: 15px;\n  color: #fff;\n  box-sizing: border-box;\n}\n\n.income-pk-send .send-tips {\n  margin: 10px 0 13px 10px;\n  line-height: 14px;\n  color: #dfbe86;\n}\n\n.income-pk-send .icon-first {\n  padding: 0 15px;\n  margin-right: 5px;\n  background: url(//www.huya.com/act/webAct/201810/img/icon_send_first_432e3.png) no-repeat center center;\n}\n\n.income-pk-send .send-gift {\n  float: left;\n  margin-left: 10px;\n  margin-right: 2px;\n  display: block;\n  width: 16px;\n  height: 16px;\n  background: url(//www.huya.com/act/webAct/201810/img/icon_gift_pk_bed3e.png);\n  background-color: #393d56;\n}\n\n.income-pk-send .send-tab {\n  float: left;\n  margin-left: 4px;\n  display: block;\n  width: 41px;\n  height: 18px;\n  text-align: center;\n  line-height: 18px;\n  color: #dfbe86;\n  background: #424663;\n  border-radius: 30px;\n}\n\n.income-pk-send .send-tab:hover {\n  cursor: pointer;\n  color: #251c0d;\n  background-color: #dbbd66;\n}\n\n.income-pk-send .send-tab:active, .income-pk-send .send-tab.current {\n  cursor: pointer;\n  color: #251c0d;\n  background-color: #dbbd66;\n}\n\n.income-pk-send .send-input {\n  position: relative;\n  margin-top: -4px;\n  margin-left: 4px;\n  float: left;\n  width: 168px;\n  height: 24px;\n}\n\n.income-pk-send .input-box {\n  padding-left: 10px;\n  width: 110px;\n  height: 22px;\n  border: 0;\n  color: #ebedf2;\n  border-radius: 3px;\n  background: #393d56;\n}\n\n.income-pk-send .input-box:focus {\n  outline: none;\n}\n\n.income-pk-send .input-btn {\n  position: absolute;\n  top: 0;\n  right: 0;\n  display: block;\n  width: 60px;\n  height: 24px;\n  background: url(//www.huya.com/act/webAct/201810/img/btn_send_fbfc3.png) no-repeat 0 0;\n}\n\n.income-pk-send .input-btn:hover {\n  cursor: pointer;\n  background-position-x: -61px;\n}\n\n.income-pk-send .input-btn:active {\n  background-position-x: -122px;\n}\n");var $chat=$(".chat-room__bd");!function(){$chat.on("click",".income-pk-send .send-tab",function(){var n=$(this),e=n.data("tab");if(e!=app.player.current){var t=n.data("amount");app.player.current=e,app.player.amount=t,render()}}).on("change",".income-pk-send .input-box",function(){var n=$(this),e=parseInt(n.val());e>9999?e=9999:0>=e?e=1:e||(e=1),app.player.current=!1,app.player.amount=e,render()}).on("click",".income-pk-send .input-btn",function(){hdTools.sendGift(app.player.amount)})}(),app.on("update:pk:send",function(){3!=app.config.status||3==app.pk.status||1!=app.common.isGroupPk?remove():render()})});
;/*!income_widget/pk/pk.js*/
define("income_widget/pk/pk",function(require,exports,module){function render(){var def=new $.Deferred;$pk=$(".j_panel-wrap");var tpl=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){if(__p+='<a class="panel-logo pk-logo'+(null==(__t=app.common.stage>2?" groupPK":"")?"":__t)+(null==(__t=1==app.common.role?" entertainment":"")?"":__t)+'" href="https://layer.huya.com/live/201810activity/index" target="_blank"></a>\r\n\r\n',app.common.stage>2){var session=["","一","二","三"];__p+='\r\n<span class="panel-date">第'+(null==(__t=session[app.pk.session])?"":__t)+"回合</span>\r\n"}__p+="\r\n\r\n",app.common.stage<3&&app.pk.status<3&&(__p+='\r\n<span class="pk-tips">'+(null==(__t=app.pk.isAttack?"胜利获":"战败损失")?"":__t)+'<i class="tips-light">'+(null==(__t=app.pk.delta)?"":__t)+"</i>战力</span>\r\n"),__p+='\r\n\r\n<div class="pk-camp">\r\n    ',__p+=TTA.lp==app.pk.left.lp?'\r\n    <a class="camp-attack">\r\n    ':'\r\n    <a class="camp-attack" target="_blank" href="'+(null==(__t=TT.app.main+TT.createRoomHost(app.pk.left.roomId,app.pk.left.roomId,app.pk.left.yy))?"":__t)+'">\r\n    ',__p+='\r\n        <img class="attack-img" src="'+(null==(__t=TT.trimUrl(app.pk.left.img))?"":__t)+'" alt="" onerror="this.onerror=null; this.src=\'https://www.huya.com/act/webAct/201810/img/icon_default.png\'">\r\n        <span class="attack-nick" title="'+(null==(__t=app.pk.left.nick)?"":_.escape(__t))+'">'+(null==(__t=app.pk.left.nick)?"":_.escape(__t))+'</span>\r\n        <span class="attack-union" title="'+(null==(__t=app.pk.left.unionName)?"":_.escape(__t))+'">'+(null==(__t=app.pk.left.unionName)?"":_.escape(__t))+"</span>\r\n    </a>\r\n    ",__p+=TTA.lp==app.pk.right.lp?'\r\n    <a class="camp-defend">\r\n    ':'\r\n    <a class="camp-defend" target="_blank" href="'+(null==(__t=TT.app.main+TT.createRoomHost(app.pk.right.roomId,app.pk.right.roomId,app.pk.right.yy))?"":__t)+'">\r\n    ',__p+='\r\n        <img class="defend-img" src="'+(null==(__t=TT.trimUrl(app.pk.right.img))?"":__t)+'" alt="" onerror="this.onerror=null; this.src=\'https://www.huya.com/act/webAct/201810/img/icon_default.png\'">\r\n        <span class="defend-nick" title="'+(null==(__t=app.pk.right.nick)?"":_.escape(__t))+'">'+(null==(__t=app.pk.right.nick)?"":_.escape(__t))+'</span>\r\n        <span class="defend-union" title="'+(null==(__t=app.pk.right.unionName)?"":_.escape(__t))+'">'+(null==(__t=app.pk.right.unionName)?"":_.escape(__t))+"</span>\r\n    </a>\r\n</div>\r\n\r\n",3==app.pk.status&&(__p+='\r\n    <div class="result-'+(null==(__t=app.pk.isAttack?"attack":"defend")?"":__t)+" "+(null==(__t=app.pk.result.isWin?"win":"lose")?"":__t)+'">\r\n        <span class="result-tag"></span>\r\n        \r\n        <div class="result-msg">\r\n            ',app.pk.isAttack?(__p+="\r\n                ",app.common.stage<3?(__p+="\r\n                    ",__p+=app.pk.result.isWin?'\r\n                        战力<i class="light"> +'+(null==(__t=app.pk.result.score)?"":__t)+"</i>\r\n                    ":"\r\n                        进攻失败\r\n                    ",__p+="\r\n                "):(__p+="\r\n                    ",__p+=app.pk.result.isWin?"\r\n                        赢得本轮比赛\r\n                    ":"\r\n                        遗憾落败\r\n                    ",__p+="\r\n                "),__p+="\r\n            "):(__p+="\r\n                ",app.common.stage<3?(__p+="\r\n                    ",__p+=app.pk.result.isWin?"\r\n                        防守成功\r\n                    ":'\r\n                        战力<i class="light"> -'+(null==(__t=app.pk.result.score)?"":__t)+"</i>\r\n                    ",__p+="\r\n                "):(__p+="\r\n                    ",__p+=app.pk.result.isWin?"\r\n                        赢得本轮比赛\r\n                    ":"\r\n                        遗憾落败\r\n                    ",__p+="\r\n                "),__p+="\r\n            "),__p+="\r\n        </div>\r\n        \r\n    </div>\r\n"),__p+='\r\n\r\n<span class="pk-timer"></span>\r\n<div class="pk-schedule">\r\n    <span class="pk-gift pk-gift_acttack"></span>\r\n    <span class="schedule-bar"><i class="bar-attack" style="width: '+(null==(__t=app.pk.schedule)?"":__t)+'%;">'+(null==(__t=app.pk.status?app.pk.left.score:"")?"":__t)+"</i>"+(null==(__t=app.pk.status?app.pk.right.score:"")?"":__t)+'</span>\r\n    <span class="pk-gift pk-gift_defend"></span>\r\n</div>'}return __p};return $pk.html(tpl()),def.resolve(),def.promise()}var TTA=require("TTA"),tools=require("tools"),app=require("income_module/app"),hdTools=require("income_module/tools"),hoverPanel=(require("income_widget/pk-send/pk-send"),require("income_widget/hover-panel/hover-panel"));app.styleArr.push("input::-webkit-outer-spin-button,\ninput::-webkit-inner-spin-button {\n  -moz-appearance: none !important;\n  -webkit-appearance: none !important;\n  margin: 0;\n}\n\n.tips-general, .panel-wrap_pk .none-tips, .panel-wrap_pk .kill-msg {\n  display: none;\n  position: absolute;\n  left: 0;\n  line-height: 15px;\n  color: #e2ebf5;\n  padding: 2px 3px;\n  border: 1px solid #19346f;\n  border-radius: 3px;\n  background: #364c7b;\n}\n\n.panel-logo {\n  position: absolute;\n  display: block;\n  left: 10px;\n  top: 8px;\n  padding-right: 10px;\n  width: 159px;\n  height: 21px;\n  line-height: 40px;\n  color: #fff;\n  background: url(//www.huya.com/act/webAct/201810/img/icon_logo_7ade6.png) no-repeat 0 bottom;\n  text-align: right;\n  box-sizing: border-box;\n  cursor: pointer;\n  z-index: 4;\n}\n\n.panel-logo.entertainment {\n  width: 157px;\n  background: url(//www.huya.com/act/webAct/201810/img/icon_logo_2_9ecf8.png) no-repeat 0 bottom;\n}\n\n.panel-logo.entertainment:hover {\n  color: #fff;\n  background-position: -158px bottom;\n}\n\n.panel-logo.entertainment:active {\n  color: #fff;\n  background-position: -316px bottom;\n}\n\n.panel-logo:hover {\n  color: #fff;\n  background-position: -160px bottom;\n}\n\n.panel-logo:active {\n  color: #fff;\n  background-position: -320px bottom;\n}\n\n.panel-date {\n  position: absolute;\n  top: 0;\n  right: 0;\n  padding-left: 10px;\n  width: 102px;\n  height: 24px;\n  line-height: 24px;\n  text-align: center;\n  color: #fff;\n  background: url(//www.huya.com/act/webAct/201810/img/date_2840d.png) no-repeat center right;\n  box-sizing: border-box;\n}\n\n.hd-ctrl_rank {\n  position: absolute;\n  bottom: -16px;\n  left: 50%;\n  margin-left: -55px;\n  width: 110px;\n  height: 16px;\n  background: url(//www.huya.com/act/webAct/201810/img/icon_ctrl_down_6b7cf.png) no-repeat center center;\n  z-index: 1;\n}\n\n.hd-ctrl_rank.entertainment {\n  background: url(//www.huya.com/act/webAct/201810/img/icon_ctrl_down_2_7eb5b.png) no-repeat center center;\n}\n\n.hd-ctrl_rank:hover {\n  cursor: pointer;\n}\n\n.hd-ctrl_rank.hd-ctrl_rank_up {\n  background: url(//www.huya.com/act/webAct/201810/img/icon_ctrl_up_21977.png) no-repeat center center;\n}\n\n.panel-wrap_pk {\n  position: relative;\n  padding-top: 35px;\n  height: 115px;\n  background: url(//www.huya.com/act/webAct/201810/img/bg_pk_5d48c.jpg) center top;\n  box-sizing: border-box;\n}\n\n.panel-wrap_pk.entertainment {\n  background: url(//www.huya.com/act/webAct/201810/img/bg_pk_2_99d02.jpg) center top;\n}\n\n.panel-wrap_pk .pk-logo {\n  top: 10px;\n  width: 106px !important;\n  height: 21px;\n  background: url(//www.huya.com/act/webAct/201810/img/icon_logo_pk_abf94.png) no-repeat 0 bottom;\n}\n\n.panel-wrap_pk .pk-logo.entertainment {\n  background: url(//www.huya.com/act/webAct/201810/img/icon_logo_pk_2_90205.png) no-repeat 0 bottom;\n}\n\n.panel-wrap_pk .pk-logo:hover {\n  background-position: -107px bottom !important;\n}\n\n.panel-wrap_pk .pk-logo:active {\n  background-position: -214px bottom !important;\n}\n\n.panel-wrap_pk .pk-anchor {\n  position: absolute;\n  left: 110px;\n  top: 8px;\n  width: 24px;\n  height: 24px;\n  border-radius: 50%;\n  border: 1px solid #8b3242;\n}\n\n.panel-wrap_pk .pk-tips {\n  position: absolute;\n  right: 25px;\n  top: 12px;\n  color: #dfbe86;\n}\n\n.panel-wrap_pk .pk-tips .tips-light {\n  color: #ffebc8;\n}\n\n.panel-wrap_pk .pk-camp {\n  width: 100%;\n  height: 50px;\n  background: url(//www.huya.com/act/webAct/201810/img/pk_b5d00.png) no-repeat center center;\n}\n\n.panel-wrap_pk .camp-attack,\n.panel-wrap_pk .camp-defend {\n  display: block;\n  padding-top: 7px;\n  width: 125px;\n  height: 50px;\n  color: #fff;\n}\n\n.panel-wrap_pk .camp-attack:hover,\n.panel-wrap_pk .camp-defend:hover {\n  color: #fff;\n}\n\n.panel-wrap_pk .camp-attack:hover .none-tips,\n.panel-wrap_pk .camp-defend:hover .none-tips {\n  display: block;\n}\n\n.panel-wrap_pk .none-tips {\n  padding: 10px;\n  left: unset;\n  top: 85px;\n  right: 70px;\n  width: 172px;\n  text-align: left;\n  z-index: 10;\n}\n\n.panel-wrap_pk .none-tips.not-own {\n  width: 138px;\n  right: 95px;\n}\n\n.panel-wrap_pk .camp-attack {\n  float: left;\n  margin-left: 25px;\n}\n\n.panel-wrap_pk .camp-defend {\n  float: right;\n  margin-right: 20px;\n}\n\n.panel-wrap_pk .camp-defend .defend-img {\n  float: right;\n  border-color: #262728;\n  background-color: #262728;\n}\n\n.panel-wrap_pk .attack-img,\n.panel-wrap_pk .defend-img {\n  float: left;\n  width: 36px;\n  height: 36px;\n  border: 1px solid #262728;\n  border-radius: 50%;\n  background-color: #262728;\n}\n\n.panel-wrap_pk .attack-nick,\n.panel-wrap_pk .defend-nick,\n.panel-wrap_pk .attack-union,\n.panel-wrap_pk .defend-union {\n  float: left;\n  margin-left: 5px;\n  display: block;\n  width: 6em;\n  line-height: 16px;\n  color: #ffdee1;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  word-wrap: normal;\n  word-break: normal;\n}\n\n.panel-wrap_pk .attack-nick,\n.panel-wrap_pk .defend-nick {\n  margin-top: 1px;\n  color: #fff;\n  font-size: 14px;\n  font-weight: bold;\n}\n\n.panel-wrap_pk .defend-union {\n  float: right;\n  margin-left: 0;\n  margin-right: 5px;\n  text-align: right;\n  color: #e2fdff;\n}\n\n.panel-wrap_pk .defend-nick {\n  float: right;\n  margin-left: 0;\n  margin-right: 5px;\n  text-align: right;\n}\n\n.panel-wrap_pk .pk-timer {\n  position: absolute;\n  display: block;\n  left: 50%;\n  bottom: 9px;\n  margin-left: -35px;\n  width: 71px;\n  height: 17px;\n  line-height: 17px;\n  color: #ffebc8;\n  text-align: center;\n  background: url(//www.huya.com/act/webAct/201810/img/icon_timer_3158a.png) no-repeat center center;\n  z-index: 1;\n}\n\n.panel-wrap_pk .pk-timer:hover .kill-msg {\n  display: block;\n  width: 245px;\n  left: -95px;\n  top: 15px;\n}\n\n.panel-wrap_pk .kill-msg {\n  display: none;\n}\n\n.panel-wrap_pk .pk-schedule {\n  position: absolute;\n  bottom: 0;\n  width: 100%;\n  height: 16px;\n}\n\n.panel-wrap_pk .pk-gift {\n  float: left;\n  display: block;\n  width: 16px;\n  height: 16px;\n  background-color: #fff;\n  background-image: url(//www.huya.com/act/webAct/201810/img/icon_gift_pk_bed3e.png);\n  background-repeat: no-repeat;\n  background-position: center center;\n}\n\n.panel-wrap_pk .schedule-bar {\n  position: relative;\n  float: left;\n  display: block;\n  width: 306px;\n  height: 16px;\n  line-height: 16px;\n  text-align: right;\n  color: #fff;\n  background-color: #00b1d7;\n}\n\n.panel-wrap_pk .bar-attack {\n  position: absolute;\n  top: 0;\n  left: 0;\n  display: block;\n  height: 100%;\n  min-width: 50px;\n  max-width: 250px;\n  text-align: left;\n  background-color: #c13844;\n}\n\n.panel-wrap_pk .result-attack,\n.panel-wrap_pk .result-defend {\n  position: absolute;\n  top: 32px;\n  width: 173px;\n  height: 54px;\n}\n\n.panel-wrap_pk .result-attack {\n  right: 15px;\n  background: url(//www.huya.com/act/webAct/201810/img/pk_result_right_d5ecc.png);\n}\n\n.panel-wrap_pk .result-attack .result-tag {\n  margin: 15px 0 0 20px;\n}\n\n.panel-wrap_pk .result-defend {\n  left: 15px;\n  background: url(//www.huya.com/act/webAct/201810/img/pk_result_left_dbc55.png);\n}\n\n.panel-wrap_pk .result-defend .result-tag {\n  margin: 14px 0 0 15px;\n}\n\n.panel-wrap_pk .win .result-tag {\n  background: url(//www.huya.com/act/webAct/201810/img/icon_win_f46a2.png);\n}\n\n.panel-wrap_pk .lose .result-tag {\n  background: url(//www.huya.com/act/webAct/201810/img/icon_lose_17484.png);\n}\n\n.panel-wrap_pk .result-tag {\n  float: left;\n  display: block;\n  width: 25px;\n  height: 29px;\n}\n\n.panel-wrap_pk .result-msg {\n  float: left;\n  margin-top: 13px;\n  margin-left: 5px;\n  color: #251c0d;\n  line-height: 30px;\n}\n\n.panel-wrap_pk .result-msg .light {\n  color: #251c0d;\n}\n\n.panel-wrap_pk .result-img {\n  float: left;\n  width: 30px;\n  height: 30px;\n  background-color: #3f3a38;\n  border-radius: 50%;\n  border: 2px solid #3f3a38;\n}\n\n.panel-wrap_pk .result-row {\n  float: left;\n  margin-left: 5px;\n}\n\n.panel-wrap_pk .row-msg {\n  display: block;\n  white-space: nowrap;\n  line-height: 16px;\n}\n");var $panel=$("#wrap-income"),$pk=null,countdown=new hdTools.Countdown;countdown.callback=function(n){return 0==app.pk.status?void $pk.find(".pk-timer").html(app.pk.startTime+" 开始"):3==app.pk.status?void $pk.find(".pk-timer").html("已结束"):(n=2==app.pk.status?"秒杀"+n+'<i class="kill-msg">差距过大启动秒杀，持续3分钟后将提前结束</i>':"剩余"+n,void $pk.find(".pk-timer").html(n))},function(){$panel.on("mouseenter",".panel-wrap_pk .pk-camp",function(){app.common.stage<3||(clearTimeout(hoverPanel.clearTimer),hoverPanel.insert(app.hover,{top:230,left:20},"virtual"))}).on("mouseleave",".panel-wrap_pk .pk-camp",function(){clearTimeout(hoverPanel.clearTimer),hoverPanel.clearTimer=setTimeout(function(){hoverPanel.remove()},200)})}();var pk={init:function(){$.when(render()).done(function(){tools.importStyle(app.styleArr.join(" "),"incomeStyle")}).done(function(){countdown.time=app.pk.endTime,countdown.run()}).done(function(){var n=1==app.common.role?" entertainment":"";$pk.prop("class","panel-wrap j_panel-wrap panel-wrap_pk"+n),app.emit("update:pk:send")})}};app.on("update:pk",function(){$.when(render()).done(function(){countdown.time=app.pk.endTime,countdown.run()}).done(function(){var n=1==app.common.role?" entertainment":"";$pk.prop("class","panel-wrap j_panel-wrap panel-wrap_pk"+n),app.emit("update:pk:send")})}),module.exports=pk});
;/*!income_widget/rank-nav/rank-nav.js*/
define("income_widget/rank-nav/rank-nav",function(require,exports,module){function render(){var def=new $.Deferred;$rank=$(".j_panel-rank");var tpl=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+="",$.each(app.rankNav.list,function(n,e){__p+='\r\n<span class="nav-item'+(null==(__t=n==app.rankNav.current?" current":"")?"":__t)+'" data-nav="'+(null==(__t=n)?"":__t)+'" style="width: '+(null==(__t=100/app.rankNav.count+"%;")?"":__t)+'">'+(null==(__t=e)?"":__t)+"</span>\r\n"}),__p+="";return __p};return $rank.find(".j_rank-nav").html(tpl()),def.resolve(),def.promise()}var app=require("income_module/app");app.styleArr.push("input::-webkit-outer-spin-button,\ninput::-webkit-inner-spin-button {\n  -moz-appearance: none !important;\n  -webkit-appearance: none !important;\n  margin: 0;\n}\n\n.tips-general {\n  display: none;\n  position: absolute;\n  left: 0;\n  line-height: 15px;\n  color: #e2ebf5;\n  padding: 2px 3px;\n  border: 1px solid #19346f;\n  border-radius: 3px;\n  background: #364c7b;\n}\n\n.panel-logo {\n  position: absolute;\n  display: block;\n  left: 10px;\n  top: 8px;\n  padding-right: 10px;\n  width: 159px;\n  height: 21px;\n  line-height: 40px;\n  color: #fff;\n  background: url(//www.huya.com/act/webAct/201810/img/icon_logo_7ade6.png) no-repeat 0 bottom;\n  text-align: right;\n  box-sizing: border-box;\n  cursor: pointer;\n  z-index: 4;\n}\n\n.panel-logo.entertainment {\n  width: 157px;\n  background: url(//www.huya.com/act/webAct/201810/img/icon_logo_2_9ecf8.png) no-repeat 0 bottom;\n}\n\n.panel-logo.entertainment:hover {\n  color: #fff;\n  background-position: -158px bottom;\n}\n\n.panel-logo.entertainment:active {\n  color: #fff;\n  background-position: -316px bottom;\n}\n\n.panel-logo:hover {\n  color: #fff;\n  background-position: -160px bottom;\n}\n\n.panel-logo:active {\n  color: #fff;\n  background-position: -320px bottom;\n}\n\n.panel-date {\n  position: absolute;\n  top: 0;\n  right: 0;\n  padding-left: 10px;\n  width: 102px;\n  height: 24px;\n  line-height: 24px;\n  text-align: center;\n  color: #fff;\n  background: url(//www.huya.com/act/webAct/201810/img/date_2840d.png) no-repeat center right;\n  box-sizing: border-box;\n}\n\n.hd-ctrl_rank {\n  position: absolute;\n  bottom: -16px;\n  left: 50%;\n  margin-left: -55px;\n  width: 110px;\n  height: 16px;\n  background: url(//www.huya.com/act/webAct/201810/img/icon_ctrl_down_6b7cf.png) no-repeat center center;\n  z-index: 1;\n}\n\n.hd-ctrl_rank.entertainment {\n  background: url(//www.huya.com/act/webAct/201810/img/icon_ctrl_down_2_7eb5b.png) no-repeat center center;\n}\n\n.hd-ctrl_rank:hover {\n  cursor: pointer;\n}\n\n.hd-ctrl_rank.hd-ctrl_rank_up {\n  background: url(//www.huya.com/act/webAct/201810/img/icon_ctrl_up_21977.png) no-repeat center center;\n}\n\n#wrap-income .panel-rank .rank-nav {\n  width: 100%;\n  background: url(//www.huya.com/act/webAct/201810/img/bg_normal_5da60.jpg) center -100px;\n  border-bottom: 2px solid #9a8768;\n  font-size: 0;\n}\n\n#wrap-income .panel-rank .rank-nav.entertainment {\n  background: url(//www.huya.com/act/webAct/201810/img/bg_normal_2_86362.jpg) center -100px;\n}\n\n#wrap-income .panel-rank .nav-item {\n  display: inline-block;\n  vertical-align: top;\n  font-size: 12px;\n  height: 18px;\n  line-height: 18px;\n  color: #fff;\n  text-align: center;\n  border-bottom: 2px solid transparent;\n}\n\n#wrap-income .panel-rank .nav-item.current {\n  position: relative;\n  height: 18px;\n  line-height: 18px;\n  font-weight: bold;\n  border-color: #9a8768;\n}\n\n#wrap-income .panel-rank .nav-item.current:hover {\n  cursor: default;\n}\n\n#wrap-income .panel-rank .nav-item:hover {\n  cursor: pointer;\n}\n");var $panel=$("#wrap-income"),$rank=null;!function(){$panel.on("click",".nav-item",function(){var n=$(this);if(!n.hasClass("current")){var e=n.data("nav");app.rankNav.current=e,app.emit("update:rankNav")}})}();var rankNav={init:function(){render()}};app.on("update:rankNav",function(){$.when(render()).done(function(){app.emit("update:rankList")})}),app.on("update:rankNav:title",function(){render()}),module.exports=rankNav});
;/*!income_widget/rank-list/rank-list.js*/
define("income_widget/rank-list/rank-list",function(require,exports,module){function render(){var def=new $.Deferred;$rank=$(".j_panel-rank");var tpl=function(){},current=app.rankNav.current;return"anchor"==current||"rise"==current?tpl=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){if(__p+='<div class="rank-detail'+(null==(__t=obj.tips?" tips":"")?"":__t)+'">\r\n    <div class="detail-title">\r\n        <span class="title-order">排名</span>\r\n        ',"rise"==obj.type?__p+='\r\n            <span class="title-nick">公会昵称</span>\r\n            <span class="title-score">总战力</span>\r\n        ':"anchor"==obj.type&&(__p+='\r\n            <span class="title-nick">主播昵称</span>\r\n            <span class="title-score">贡献战力</span>\r\n        '),__p+="\r\n    </div>\r\n    \r\n    ",obj.list&&obj.list.length){if(__p+='\r\n    <div class="detail-box j_detail-box '+(null==(__t=obj.type)?"":__t)+'">\r\n        ',"rise"==obj.type){__p+="\r\n        ";var riseClass="";riseClass=8==app.common.stage?" rise-area_2":9==app.common.stage?" rise-area_1":"",__p+='\r\n        <div class="rise-area'+(null==(__t=riseClass)?"":__t)+'">\r\n            <span class="rise-top"></span>\r\n            <span class="rise-mid"></span>\r\n            <span class="rise-bottom"></span>\r\n        </div>\r\n        '}__p+='\r\n        <ul class="detail-list">\r\n            ';for(var key in obj.list){var item=obj.list[key];if(__p+='\r\n            <li class="list-item list-item_'+(null==(__t=item.rank)?"":__t)+'">\r\n                <span class="item-order item-order_'+(null==(__t=item.rank)?"":__t)+'">'+(null==(__t=item.rank>3?'<span class="order-num">'+item.rank+"</span>":item.rank)?"":__t)+"</span>\r\n                \r\n                ","anchor"==obj.type){__p+="\r\n                ";var isLive=item.sid&&item.tid;__p+='\r\n                <a class="item-nick" title="'+(null==(__t=isLive?"点击进入TA的直播间":"TA还未开播")?"":__t)+'" target="_blank" href="'+(null==(__t="https://www.huya.com/"+TT.createRoomHost(null,item.roomId,item.yy))?"":__t)+'"><i class="nick anchor">'+(null==(__t=item.name)?"":_.escape(__t))+"</i></a>\r\n                "}else __p+='\r\n                <span class="item-nick"><i class="nick">'+(null==(__t=item.name)?"":_.escape(__t))+"</i></span>\r\n                ";__p+='\r\n                \r\n                <span class="item-score">'+(null==(__t=item.score)?"":__t)+"</span>\r\n            </li>\r\n            "}__p+="\r\n        </ul>\r\n    </div>\r\n    "}else __p+="\r\n        ",__p+="rise"==obj.type?'\r\n        <span class="detail-none"><i class="icon-waring"></i>暂未有公会上榜，送出<i class="none-gift none-gift_'+(null==(__t=app.common.gift.type)?"":__t)+'"></i>帮助主播上榜吧！</span>\r\n        ':'\r\n        <span class="detail-none"><i class="icon-waring"></i>暂未有主播上榜，送出<i class="none-gift none-gift_'+(null==(__t=app.common.gift.type)?"":__t)+'"></i>帮助主播上榜吧</span>\r\n        ',__p+="\r\n    ";__p+="\r\n    \r\n    ",obj.tips&&(__p+='\r\n    <div class="detail-tips">'+(null==(__t=obj.tips)?"":__t)+"</div>\r\n    "),__p+="\r\n</div>"}return __p}:"groupPk"==current?tpl=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var groupPkList=app.rankList.groupPk.list;if(groupPkList.length){__p+='\r\n<div class="rank-detail_groupPk'+(null==(__t=obj.tips?" tips":"")?"":__t)+'">\r\n    <div class="detail-box j_detail-box">\r\n        <div class="detail-list">\r\n            ';for(var i=0;i<groupPkList.length;i++){var item=groupPkList[i];__p+='\r\n            <div class="pk-camp">\r\n                <div class="camp-attack">\r\n                    <img class="attack-img" src="'+(null==(__t=TT.trimUrl(item.left.img))?"":__t)+'" alt="" onerror="this.onerror=null; this.src=\'https://www.huya.com/act/webAct/201810/img/icon_default.png\'">\r\n                    <span class="attack-nick">'+(null==(__t=item.left.nick)?"":_.escape(__t))+'</span>\r\n                    <span class="attack-score">战力 '+(null==(__t=item.left.score)?"":__t)+'</span>\r\n                </div>\r\n                <div class="camp-defend">\r\n                    <img class="defend-img" src="'+(null==(__t=TT.trimUrl(item.right.img))?"":__t)+'" alt="" onerror="this.onerror=null; this.src=\'https://www.huya.com/act/webAct/201810/img/icon_default.png\'">\r\n                    <span class="defend-nick">'+(null==(__t=item.right.nick)?"":_.escape(__t))+'</span>\r\n                    <span class="defend-score">战力 '+(null==(__t=item.right.score)?"":__t)+"</span>\r\n                </div>\r\n            </div>\r\n            "}__p+="\r\n        </div>\r\n    </div>\r\n    \r\n    ",obj.tips&&(__p+='\r\n    <div class="detail-tips">'+(null==(__t=obj.tips)?"":__t)+"</div>\r\n    "),__p+="\r\n</div>\r\n"}__p+=""}return __p}:"topThree"==current&&(tpl=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+='<div class="rank-detail_topThree tips">\r\n    <div class="detail-box j_detail-box">\r\n        <div class="detail-list">\r\n            <span class="topThree-title topThree"></span>\r\n            <div class="topThree-top">\r\n                ';var top=app.rankList.topThree.top;__p+='\r\n                <a class="top-item top-item_1" title="'+(null==(__t=top[0].nick)?"":_.escape(__t))+'">\r\n                    <img class="top-img" src="'+(null==(__t=TT.trimUrl(top[0].img))?"":__t)+'">\r\n                    <span class="top-nick">'+(null==(__t=top[0].nick)?"":_.escape(__t))+'</span>\r\n                </a>\r\n                <a class="top-item top-item_2" title="'+(null==(__t=top[1].nick)?"":_.escape(__t))+'">\r\n                    <img class="top-img" src="'+(null==(__t=TT.trimUrl(top[1].img))?"":__t)+'">\r\n                    <span class="top-nick">'+(null==(__t=top[1].nick)?"":_.escape(__t))+'</span>\r\n                </a>\r\n                <a class="top-item top-item_3" title="'+(null==(__t=top[2].nick)?"":_.escape(__t))+'">\r\n                    <img class="top-img" src="'+(null==(__t=TT.trimUrl(top[2].img))?"":__t)+'">\r\n                    <span class="top-nick">'+(null==(__t=top[2].nick)?"":_.escape(__t))+'</span>\r\n                </a>\r\n            </div>\r\n            <span class="topThree-title today"></span>\r\n            <div class="topThree-today">\r\n                ';var today=app.rankList.topThree.today;if(__p+="\r\n                ",today.length){__p+="\r\n                ";for(var i=0;i<today.length;i++)__p+='\r\n                <div class="pk-camp">\r\n                    <div class="camp-attack">\r\n                        <img class="attack-img" src="'+(null==(__t=TT.trimUrl(today[i].left.img))?"":__t)+'" alt="" onerror="this.onerror=null; this.src=\'https://www.huya.com/act/webAct/201810/img/icon_default.png\'">\r\n                        <span class="attack-nick">'+(null==(__t=today[i].left.nick)?"":_.escape(__t))+'</span>\r\n                        <span class="attack-score">战力 '+(null==(__t=today[i].left.score)?"":__t)+'</span>\r\n                    </div>\r\n                    <div class="camp-defend">\r\n                        <img class="defend-img" src="'+(null==(__t=TT.trimUrl(today[i].right.img))?"":__t)+'" alt="" onerror="this.onerror=null; this.src=\'https://www.huya.com/act/webAct/201810/img/icon_default.png\'">\r\n                        <span class="defend-nick">'+(null==(__t=today[i].right.nick)?"":_.escape(__t))+'</span>\r\n                        <span class="defend-score">战力 '+(null==(__t=today[i].right.score)?"":__t)+"</span>\r\n                    </div>\r\n                </div>\r\n                ";__p+="\r\n                "}__p+="\r\n            </div>\r\n        </div>\r\n    </div>\r\n    \r\n    ",app.rankList.topThree.tips&&(__p+='\r\n    <div class="detail-tips">'+(null==(__t=app.rankList.topThree.tips)?"":__t)+"</div>\r\n    "),__p+="\r\n</div>"}return __p}),$rank.find(".j_rank-cnt .rank-list").html(tpl(app.rankList[current])),def.resolve(),def.promise()}var app=require("income_module/app"),tools=require("income_module/tools");app.styleArr.push("input::-webkit-outer-spin-button,\ninput::-webkit-inner-spin-button {\n  -moz-appearance: none !important;\n  -webkit-appearance: none !important;\n  margin: 0;\n}\n\n.tips-general {\n  display: none;\n  position: absolute;\n  left: 0;\n  line-height: 15px;\n  color: #e2ebf5;\n  padding: 2px 3px;\n  border: 1px solid #19346f;\n  border-radius: 3px;\n  background: #364c7b;\n}\n\n.panel-logo {\n  position: absolute;\n  display: block;\n  left: 10px;\n  top: 8px;\n  padding-right: 10px;\n  width: 159px;\n  height: 21px;\n  line-height: 40px;\n  color: #fff;\n  background: url(//www.huya.com/act/webAct/201810/img/icon_logo_7ade6.png) no-repeat 0 bottom;\n  text-align: right;\n  box-sizing: border-box;\n  cursor: pointer;\n  z-index: 4;\n}\n\n.panel-logo.entertainment {\n  width: 157px;\n  background: url(//www.huya.com/act/webAct/201810/img/icon_logo_2_9ecf8.png) no-repeat 0 bottom;\n}\n\n.panel-logo.entertainment:hover {\n  color: #fff;\n  background-position: -158px bottom;\n}\n\n.panel-logo.entertainment:active {\n  color: #fff;\n  background-position: -316px bottom;\n}\n\n.panel-logo:hover {\n  color: #fff;\n  background-position: -160px bottom;\n}\n\n.panel-logo:active {\n  color: #fff;\n  background-position: -320px bottom;\n}\n\n.panel-date {\n  position: absolute;\n  top: 0;\n  right: 0;\n  padding-left: 10px;\n  width: 102px;\n  height: 24px;\n  line-height: 24px;\n  text-align: center;\n  color: #fff;\n  background: url(//www.huya.com/act/webAct/201810/img/date_2840d.png) no-repeat center right;\n  box-sizing: border-box;\n}\n\n.hd-ctrl_rank {\n  position: absolute;\n  bottom: -16px;\n  left: 50%;\n  margin-left: -55px;\n  width: 110px;\n  height: 16px;\n  background: url(//www.huya.com/act/webAct/201810/img/icon_ctrl_down_6b7cf.png) no-repeat center center;\n  z-index: 1;\n}\n\n.hd-ctrl_rank.entertainment {\n  background: url(//www.huya.com/act/webAct/201810/img/icon_ctrl_down_2_7eb5b.png) no-repeat center center;\n}\n\n.hd-ctrl_rank:hover {\n  cursor: pointer;\n}\n\n.hd-ctrl_rank.hd-ctrl_rank_up {\n  background: url(//www.huya.com/act/webAct/201810/img/icon_ctrl_up_21977.png) no-repeat center center;\n}\n\n.rank-detail {\n  width: 338px;\n  position: relative;\n  background: #242738;\n  overflow: hidden;\n}\n\n.rank-detail.tips {\n  padding-bottom: 30px;\n}\n\n.rank-detail .jspContainer .jspDrag {\n  background: #988668;\n}\n\n.rank-detail .detail-item_general, .rank-detail .title-order, .rank-detail .item-order, .rank-detail .title-nick, .rank-detail .item-nick, .rank-detail .title-score, .rank-detail .item-score {\n  display: block;\n  float: left;\n  height: 25px;\n  line-height: 25px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  word-wrap: normal;\n  word-break: normal;\n}\n\n.rank-detail .title-order,\n.rank-detail .item-order {\n  width: 25px;\n  margin-left: 16px;\n}\n\n.rank-detail .title-nick,\n.rank-detail .item-nick {\n  padding-left: 30px;\n  width: 195px;\n  text-decoration: none;\n}\n\n.rank-detail .title-score,\n.rank-detail .item-score {\n  width: 80px;\n}\n\n.rank-detail .detail-title {\n  overflow: hidden;\n  color: #dfbe86;\n}\n\n.rank-detail .detail-title .title-order,\n.rank-detail .detail-title .title-nick {\n  text-align: center;\n  font-weight: bold;\n}\n\n.rank-detail .detail-title .title-score {\n  text-align: right;\n  font-weight: bold;\n}\n\n.rank-detail .detail-box {\n  position: relative;\n  width: 338px;\n  min-height: 122px;\n  overflow: hidden;\n  z-index: 2;\n}\n\n.rank-detail .detail-box.rise .detail-list {\n  padding-top: 10px;\n}\n\n.rank-detail .detail-list {\n  position: relative;\n  z-index: 3;\n}\n\n.rank-detail .detail-list .list-item {\n  overflow: hidden;\n  height: 31px;\n  line-height: 31px;\n}\n\n.rank-detail .detail-list .item-order {\n  margin-top: 2px;\n  line-height: 28px;\n  text-align: center;\n}\n\n.rank-detail .detail-list .item-order_1 {\n  color: #373d6d;\n  background: url(//www.huya.com/act/webAct/201810/img/icon_rank_1_0e1e7.png) no-repeat center center;\n}\n\n.rank-detail .detail-list .item-order_2 {\n  color: #373d6d;\n  background: url(//www.huya.com/act/webAct/201810/img/icon_rank_2_af24c.png) no-repeat center center;\n}\n\n.rank-detail .detail-list .item-order_3 {\n  color: #373d6d;\n  background: url(//www.huya.com/act/webAct/201810/img/icon_rank_3_c3837.png) no-repeat center center;\n}\n\n.rank-detail .detail-list .order-num {\n  display: block;\n  width: 18px;\n  height: 18px;\n  background: #282b3c;\n  border-radius: 3px;\n  text-align: center;\n  margin: 6px auto;\n  line-height: 18px;\n  color: #dfbe86;\n}\n\n.rank-detail .detail-list .item-nick {\n  display: inline-block;\n  line-height: 33px !important;\n  padding-left: 55px;\n  width: 195px;\n  height: 100%;\n  color: #dfbe86;\n  box-sizing: border-box;\n}\n\n.rank-detail .detail-list .item-nick:hover {\n  color: #dfbe86;\n}\n\n.rank-detail .detail-list .item-nick .nick {\n  display: block;\n  width: 10em;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  word-wrap: normal;\n  word-break: normal;\n}\n\n.rank-detail .detail-list .item-nick .nick.hasBuff {\n  float: left;\n}\n\n.rank-detail .detail-list .item-score {\n  color: #dfbe86;\n  height: 100%;\n  line-height: 31px;\n  text-align: right;\n}\n\n.rank-detail .detail-none {\n  display: block;\n  margin: 40px 0;\n  text-align: center;\n  color: #dfbe86;\n}\n\n.rank-detail .detail-none .icon-waring {\n  padding: 8px 15px;\n  background: url(//www.huya.com/act/webAct/201810/img/icon_warning_3c399.png) no-repeat center center;\n}\n\n.rank-detail .none-gift {\n  padding: 0 10px;\n  background-repeat: no-repeat;\n  background-position: center center;\n  background: url(/img/icon_gift_g.png) no-repeat center center;\n}\n\n.rank-detail .none-gift.none-gift_1 {\n  background-image: url(//www.huya.com/act/webAct/201810/img/icon_gift_1_a9d4b.png);\n}\n\n.rank-detail .none-gift.none-gift_2 {\n  background-image: url(//www.huya.com/act/webAct/201810/img/icon_gift_2_accac.png);\n}\n\n.rank-detail .none-gift.none-gift_4 {\n  background-image: url(//www.huya.com/act/webAct/201810/img/icon_gift_4_1e8fb.png);\n}\n\n.rank-detail .none-gift.none-gift_2165 {\n  background-image: url(//www.huya.com/act/webAct/201810/img/icon_gift_2165_04ef2.png);\n}\n\n.rank-detail .none-gift.none-gift_2336 {\n  background-image: url(//www.huya.com/act/webAct/201810/img/icon_gift_2336_9556d.png);\n}\n\n.rank-detail .none-gift.none-gift_2633 {\n  background-image: url(//www.huya.com/act/webAct/201810/img/icon_gift_2633_d6ec1.png);\n}\n\n.rank-detail .none-gift.none-gift_2752 {\n  background-image: url(//www.huya.com/act/webAct/201810/img/icon_gift_2752_3a54a.png);\n}\n\n.rank-detail .none-gift.none-gift_2793 {\n  background-image: url(//www.huya.com/act/webAct/201810/img/icon_gift_2793_1c916.png);\n}\n\n.rank-detail .none-gift.none-gift_3090 {\n  background-image: url(//www.huya.com/act/webAct/201810/img/icon_gift_3090_eafcc.png);\n}\n\n.rank-detail .none-gift.none-gift_3203 {\n  background-image: url(//www.huya.com/act/webAct/201810/img/icon_gift_3203_ae33e.png);\n}\n\n.rank-detail .none-gift.none-gift_3307 {\n  background-image: url(//www.huya.com/act/webAct/201810/img/icon_gift_3307_25292.png);\n}\n\n.rank-detail .detail-tips {\n  position: absolute;\n  width: 100%;\n  height: 30px;\n  line-height: 30px;\n  left: 0;\n  bottom: 0;\n  background-color: #131521;\n  color: #dfbe86;\n  text-align: center;\n  overflow: hidden;\n}\n\n.rank-detail .detail-tips .left {\n  float: left;\n  margin-left: 10px;\n}\n\n.rank-detail .detail-tips .tips-num {\n  display: inline-block;\n  color: #ffebc8;\n  max-width: 8em;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  word-wrap: normal;\n  word-break: normal;\n  vertical-align: top;\n}\n\n.rank-detail .detail-tips .tips-link {\n  float: right;\n  margin-right: 10px;\n  color: #ffebc8;\n}\n\n.rank-detail .detail-tips .tips-link:hover {\n  color: #ffebc8;\n}\n\n.rank-detail .rise-area {\n  position: absolute;\n  width: 312px;\n  top: 0;\n  left: 12px;\n  z-index: 1;\n}\n\n.rank-detail .rise-area.rise-area_2 .rise-mid {\n  height: 50px;\n}\n\n.rank-detail .rise-area.rise-area_1 .rise-mid {\n  height: 20px;\n}\n\n.rank-detail .rise-area .rise-top {\n  display: block;\n  height: 18px;\n  background: url(//www.huya.com/act/webAct/201810/img/riseArea_top_361dd.png);\n}\n\n.rank-detail .rise-area .rise-mid {\n  display: block;\n  height: 236px;\n  background: url(//www.huya.com/act/webAct/201810/img/riseArea_mid_f6c23.png);\n}\n\n.rank-detail .rise-area .rise-bottom {\n  display: block;\n  height: 6px;\n  background: url(//www.huya.com/act/webAct/201810/img/riseArea_bottom_0d19d.png);\n}\n\n.rank-detail_groupPk, .rank-detail_topThree {\n  width: 338px;\n  position: relative;\n  background: #242738;\n  overflow: hidden;\n}\n\n.rank-detail_groupPk.tips, .rank-detail_topThree.tips {\n  padding-bottom: 30px;\n}\n\n.rank-detail_groupPk .jspContainer .jspDrag, .rank-detail_topThree .jspContainer .jspDrag {\n  background: #988668;\n}\n\n.rank-detail_groupPk .detail-list, .rank-detail_topThree .detail-list {\n  padding-bottom: 20px;\n}\n\n.rank-detail_groupPk .pk-camp, .rank-detail_topThree .pk-camp {\n  padding-top: 20px;\n  width: 100%;\n  height: 50px;\n  background: url(//www.huya.com/act/webAct/201810/img/pk_b5d00.png) no-repeat bottom center;\n  box-sizing: content-box;\n}\n\n.rank-detail_groupPk .camp-attack,\n.rank-detail_groupPk .camp-defend, .rank-detail_topThree .camp-attack,\n.rank-detail_topThree .camp-defend {\n  display: block;\n  padding-top: 7px;\n  width: 140px;\n  height: 50px;\n  color: #fff;\n}\n\n.rank-detail_groupPk .camp-attack, .rank-detail_topThree .camp-attack {\n  float: left;\n  margin-left: 25px;\n}\n\n.rank-detail_groupPk .camp-defend, .rank-detail_topThree .camp-defend {\n  float: right;\n  margin-right: 20px;\n}\n\n.rank-detail_groupPk .camp-defend .defend-img, .rank-detail_topThree .camp-defend .defend-img {\n  float: right;\n  border-color: #262728;\n  background-color: #262728;\n}\n\n.rank-detail_groupPk .camp-defend .defend-nick, .rank-detail_groupPk .camp-defend .defend-score, .rank-detail_topThree .camp-defend .defend-nick, .rank-detail_topThree .camp-defend .defend-score {\n  text-align: right;\n}\n\n.rank-detail_groupPk .attack-img,\n.rank-detail_groupPk .defend-img, .rank-detail_topThree .attack-img,\n.rank-detail_topThree .defend-img {\n  float: left;\n  width: 36px;\n  height: 36px;\n  border: 1px solid #262728;\n  border-radius: 50%;\n  background-color: #262728;\n}\n\n.rank-detail_groupPk .attack-nick,\n.rank-detail_groupPk .defend-nick,\n.rank-detail_groupPk .attack-score,\n.rank-detail_groupPk .defend-score, .rank-detail_topThree .attack-nick,\n.rank-detail_topThree .defend-nick,\n.rank-detail_topThree .attack-score,\n.rank-detail_topThree .defend-score {\n  float: left;\n  margin-left: 5px;\n  display: block;\n  width: 95px;\n  line-height: 16px;\n  color: #ffdee1;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  word-wrap: normal;\n  word-break: normal;\n}\n\n.rank-detail_groupPk .defend-score, .rank-detail_topThree .defend-score {\n  color: #e2fdff;\n}\n\n.rank-detail_groupPk .attack-nick,\n.rank-detail_groupPk .defend-nick, .rank-detail_topThree .attack-nick,\n.rank-detail_topThree .defend-nick {\n  margin-top: 1px;\n  color: #fff;\n  font-size: 14px;\n  font-weight: bold;\n}\n\n.rank-detail_groupPk .detail-tips, .rank-detail_topThree .detail-tips {\n  position: absolute;\n  width: 100%;\n  height: 30px;\n  line-height: 30px;\n  left: 0;\n  bottom: 0;\n  background-color: #131521;\n  color: #dfbe86;\n  text-align: center;\n}\n\n.rank-detail_groupPk .detail-tips .left, .rank-detail_topThree .detail-tips .left {\n  float: left;\n  margin-left: 10px;\n}\n\n.rank-detail_groupPk .detail-tips .tips-num, .rank-detail_topThree .detail-tips .tips-num {\n  display: inline-block;\n  color: #ffebc8;\n  max-width: 8em;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  word-wrap: normal;\n  word-break: normal;\n  vertical-align: top;\n}\n\n.rank-detail_groupPk .detail-tips .tips-link, .rank-detail_topThree .detail-tips .tips-link {\n  float: right;\n  margin-right: 10px;\n  color: #ffebc8;\n}\n\n.rank-detail_groupPk .detail-tips .tips-link:hover, .rank-detail_topThree .detail-tips .tips-link:hover {\n  color: #ffebc8;\n}\n\n.rank-detail_topThree .detail-list {\n  padding-top: 20px;\n  padding-bottom: 10px;\n}\n\n.rank-detail_topThree .topThree-title {\n  display: block;\n  width: 338px;\n  height: 12px;\n}\n\n.rank-detail_topThree .topThree-title.topThree {\n  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAVQAAAAMCAYAAAA9OEWbAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjk1NUMyMDczQ0U5MjExRThBOUYxODE0NzNBRjNCRTcyIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjk1NUMyMDc0Q0U5MjExRThBOUYxODE0NzNBRjNCRTcyIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OTU1QzIwNzFDRTkyMTFFOEE5RjE4MTQ3M0FGM0JFNzIiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6OTU1QzIwNzJDRTkyMTFFOEE5RjE4MTQ3M0FGM0JFNzIiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz64+oqLAAACuklEQVR42uyb0ZGbMBCGLYerIXnW1ZBUACVcC1DCvSWTvKWEo4WUABUkNRzPSQ3BJpJn5fm9ESAMvvHD/81opJWERnDc711JmGEYdoRswZ9f315d1r3/+LkAe+fsR7Ebl1mwc5f5uuLDpy+tr/v982uoq11dde1c3Dh+jByqChlX04X5ELKWjI+AbEzuhHJQQot2N3P9i+SlE8XSF5ywGhHJlF//zvV/dKmQa/x4JbRXrq2Gtpx/MkJBJXeH9/SceJ4EzJXNjDfr+1kxn524PYltg3cqAtqGa4KwruRFhDRV4AlJxjDkJxuF+yV4lyhWNtK9hbYcRDNXoXkbPM0rQv4LzxTF2LW9iidb8P0nmwqqe7n4FMic57lEWP/zUEFsC1ffKg81CGqOIbsIX7husbAGQYXlAh36I5WbV51wb3wZyGzI/+CF1aX9SHonCesyaNO2TtmEnUGezbRj/jAyZmy8qTnsVTk2/726/1BvoN6oPgae6b0xyNySf3QThTQHzzKsm7YQxnsaEaXYZlMtomoja6XflcBOcV4jjYXzXmCDhyrjNlc8v1s967fiKHMbpOzTAexQPkjCPkeoP6g+Pu9VGfv0qtyret3/70h7Hxmzn2kfs3H+vbrPHu79GHkeOg2ZTJqQW1KLd1hNCSJ4phfeJbTXMlYKFsS5g2WF1VEd/5xk1ENdEs4Rckt0WA6e6vlYVSqwy9+Ah4xj2t3CHX7+r5CUkJ+Qu0DOnVZjHuoWY4uoXoT8KeunhKSw5yMgG/EcC7vl0PwPsZ/8ZhUIWA75KTwXD7IM3qSkZsW87ESbP6oVNsgIWQ2PTZHNCF9KSfKiGHbmTzv1UnfxZZIxZjT0V0edmgUhegtz8Jw3vFS/Wuosv5YiFFRyT2Ia1ir9EaRWxNUGgYXPUU/eZrBjgvqW8P0nW/JPgAEAPYR0wrojzA0AAAAASUVORK5CYII=) no-repeat center center;\n}\n\n.rank-detail_topThree .topThree-title.today {\n  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAVQAAAALCAYAAAAgPXUjAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkY5QzE4MzkzQzA2QzExRTg5NzlDOTVERTE4N0RGRjBFIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkY5QzE4Mzk0QzA2QzExRTg5NzlDOTVERTE4N0RGRjBFIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RjlDMTgzOTFDMDZDMTFFODk3OUM5NURFMTg3REZGMEUiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RjlDMTgzOTJDMDZDMTFFODk3OUM5NURFMTg3REZGMEUiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4h7okXAAACpElEQVR42uxawXHbMBAUZbqG+C3XkFRAtSKW4J89yS8lkC24BLECpwbj7dQQSjSOs6c5YwCSoSjHzuzOYHgHHCEQpHYWB2Rd160IYmn8/vWj8Jc93PLL1/s6EiPtxUhXzc23h22s4eXpu3y8zrffpm72MToO+f1dImzrx9fwrRHnIucUEBfC3tiVJ083QFpbT4pNggjVrxKEuAGxWgh5bgxZCymXPm5nCRp+xVdFLIU1p4C4gDrtjPLLlGChWs+BqFHpr1EbvgNRqr0CaaqyfeRbIUioxGcj0gpk6kCkPYnCdvBnKUJRmNIH1GihyhR+r0ZNCkDU6LNRuJX31S7MfVSnxKLI/IfFWSAG4QlxCplqPrTPR3r/tJxWlWryqo2v287NoYIcN5o7BXm6RJz0X/q2Otb53+wh+PHyYyBGCfVarlCrsXKFYuty0xb6YckH/Nxc85F2e71O9Bnrb2gM68COjX8dPL/WZ6Y+C2IyM6cfDR3GNvkbmUKoCQISUr3z5efIptRQDrUn1IEcagw1VKply3JAkdZ+fOVEQu0uONfvhSPG1sGWcjC+2gcUG3M09YcgRq5tYNuYNrDboD6M/5NobyN9tiPtKd+Ovw2eszXPfozMR1i6HIMmiEWW/AnSq8xSP7rjP3HJr0v5VbizH+74g4Ad0gH9GJBjfaNwZ5xyyfimiRTyueqDICKpgRJKMKZUlVDd3P5BphtDoCEkr/oMUpW4BgTfL/nDe8SH6px0bIr/FWKUUDkFxIVVa2HItJx73hOq0qnqFNK0uVO1Tewj/J1RuUsoVIIgoRL/DLq7Xg8s9fdjm6ORDSdVq6dzqJE0QMHpJ0ioxP+iTndQic3Ips+Ug/3hIfw3O/fSbpb0sf5O6YLIkl+Oed3yjRHn4lWAAQAl96pgad+UBQAAAABJRU5ErkJggg==) no-repeat center center;\n}\n\n.rank-detail_topThree .topThree-top {\n  position: relative;\n  width: 100%;\n  height: 100px;\n}\n\n.rank-detail_topThree .topThree-top .top-item {\n  position: absolute;\n  display: block;\n  top: 16px;\n  width: 6em;\n}\n\n.rank-detail_topThree .topThree-top .top-item.top-item_1 {\n  left: 20px;\n}\n\n.rank-detail_topThree .topThree-top .top-item.top-item_2 {\n  left: 130px;\n}\n\n.rank-detail_topThree .topThree-top .top-item.top-item_3 {\n  left: 235px;\n}\n\n.rank-detail_topThree .topThree-top .top-img {\n  width: 49px;\n  height: 49px;\n  display: block;\n  margin: 0 auto;\n  border-radius: 50%;\n}\n\n.rank-detail_topThree .topThree-top .top-nick {\n  display: block;\n  width: 100%;\n  color: #dfbe86;\n  text-align: center;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  word-wrap: normal;\n  word-break: normal;\n}\n");var $rank=($("#wrap-income"),null),rankList={init:function(){$.when(render()).done(function(){tools.resize()})}};app.on("update:rankList",function(){$.when(render()).done(function(){tools.resize()})}),module.exports=rankList});
;/*!income_widget/rank/rank.js*/
define("income_widget/rank/rank",function(require,exports,module){function render(){var def=new $.Deferred;$rank=$(".j_panel-rank");var tpl=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+='<div class="rank-nav j_rank-nav'+(null==(__t=1==app.common.role?" entertainment":"")?"":__t)+'"></div>\r\n<div class="rank-cnt j_rank-cnt">\r\n    <div class="rank-list"></div>\r\n    <span class="hd-ctrl_rank hd-ctrl_rank_up j_hd-ctrl_rank-up"></span>\r\n</div>';return __p};return $rank.html(tpl()),def.resolve(),def.promise()}var tools=require("tools"),incomeTools=require("income_module/tools"),app=require("income_module/app"),rankNav=require("income_widget/rank-nav/rank-nav"),rankList=require("income_widget/rank-list/rank-list");app.styleArr.push("");var $panel=($(".room-sidebar"),$("#wrap-income")),$rank=null;!function(){var n=null,r=300;$panel.on("mouseenter",".j_hd-ctrl_rank-down",function(){$(".j_hd-ctrl_rank-down").hide(),$rank&&$rank.slideDown(r,function(){incomeTools.resize()})}).on("mouseover",$rank,function(){clearTimeout(n)}).on("mouseleave",$rank,function(){clearTimeout(n),n=setTimeout(function(){$rank&&$rank.slideUp(r,function(){$(".j_hd-ctrl_rank-down").fadeIn(r)})},r)}).on("mouseleave",function(){3!=app.config.status&&(clearTimeout(n),n=setTimeout(function(){$rank&&$rank.slideUp(r,function(){$(".j_hd-ctrl_rank-down").fadeIn(r)})},r))}).on("click",".j_hd-ctrl_rank-up",function(){$rank&&$rank.slideUp(r,function(){$(".j_hd-ctrl_rank-down").fadeIn(r)})})}();var rank={init:function(){$.when(render()).done(function(){rankNav.init(),rankList.init(),tools.importStyle(app.styleArr.join(" "),"incomeStyle")})}};module.exports=rank});
;/*!income_widget/rise/rise.js*/
define("income_widget/rise/rise",function(require,exports,module){function render(){var def=new $.Deferred;$rise=$(".j_panel-wrap");var tpl=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+="",5!=app.rise.type?(__p+="\r\n    ",__p+=app.rise.isWin?'\r\n    <span class="rise-tag win">'+(null==(__t=1==app.rise.type?"晋级":"胜利")?"":__t)+"</span>\r\n    ":'\r\n    <span class="rise-tag lose">'+(null==(__t=1==app.rise.type?"淘汰":"落败")?"":__t)+"</span>\r\n    ",__p+="\r\n"):__p+='\r\n    <span class="icon-cup"></span>\r\n',__p+='\r\n\r\n<span class="rise-msg"><i class="union">'+(null==(__t=app.rise.unionName)?"":_.escape(__t))+"</i>"+(null==(__t=app.rise.desc_1)?"":_.escape(__t))+'</span>\r\n<span class="rise-msg">'+(null==(__t=app.rise.desc_2)?"":_.escape(__t))+"</span>";return __p};return $rise.html(tpl()),def.resolve(),def.promise()}var tools=require("tools"),app=require("income_module/app");app.styleArr.push("input::-webkit-outer-spin-button,\ninput::-webkit-inner-spin-button {\n  -moz-appearance: none !important;\n  -webkit-appearance: none !important;\n  margin: 0;\n}\n\n.tips-general {\n  display: none;\n  position: absolute;\n  left: 0;\n  line-height: 15px;\n  color: #e2ebf5;\n  padding: 2px 3px;\n  border: 1px solid #19346f;\n  border-radius: 3px;\n  background: #364c7b;\n}\n\n.panel-logo {\n  position: absolute;\n  display: block;\n  left: 10px;\n  top: 8px;\n  padding-right: 10px;\n  width: 159px;\n  height: 21px;\n  line-height: 40px;\n  color: #fff;\n  background: url(//www.huya.com/act/webAct/201810/img/icon_logo_7ade6.png) no-repeat 0 bottom;\n  text-align: right;\n  box-sizing: border-box;\n  cursor: pointer;\n  z-index: 4;\n}\n\n.panel-logo.entertainment {\n  width: 157px;\n  background: url(//www.huya.com/act/webAct/201810/img/icon_logo_2_9ecf8.png) no-repeat 0 bottom;\n}\n\n.panel-logo.entertainment:hover {\n  color: #fff;\n  background-position: -158px bottom;\n}\n\n.panel-logo.entertainment:active {\n  color: #fff;\n  background-position: -316px bottom;\n}\n\n.panel-logo:hover {\n  color: #fff;\n  background-position: -160px bottom;\n}\n\n.panel-logo:active {\n  color: #fff;\n  background-position: -320px bottom;\n}\n\n.panel-date {\n  position: absolute;\n  top: 0;\n  right: 0;\n  padding-left: 10px;\n  width: 102px;\n  height: 24px;\n  line-height: 24px;\n  text-align: center;\n  color: #fff;\n  background: url(//www.huya.com/act/webAct/201810/img/date_2840d.png) no-repeat center right;\n  box-sizing: border-box;\n}\n\n.hd-ctrl_rank {\n  position: absolute;\n  bottom: -16px;\n  left: 50%;\n  margin-left: -55px;\n  width: 110px;\n  height: 16px;\n  background: url(//www.huya.com/act/webAct/201810/img/icon_ctrl_down_6b7cf.png) no-repeat center center;\n  z-index: 1;\n}\n\n.hd-ctrl_rank.entertainment {\n  background: url(//www.huya.com/act/webAct/201810/img/icon_ctrl_down_2_7eb5b.png) no-repeat center center;\n}\n\n.hd-ctrl_rank:hover {\n  cursor: pointer;\n}\n\n.hd-ctrl_rank.hd-ctrl_rank_up {\n  background: url(//www.huya.com/act/webAct/201810/img/icon_ctrl_up_21977.png) no-repeat center center;\n}\n\n.panel-wrap_rise {\n  padding-top: 6px;\n  padding-left: 108px;\n  height: 54px;\n  background: url(//www.huya.com/act/webAct/201810/img/bg_rise_5c845.jpg) center top;\n  box-sizing: border-box;\n}\n\n.panel-wrap_rise.entertainment {\n  background: url(//www.huya.com/act/webAct/201810/img/bg_rise_2_d7530.jpg) center top;\n}\n\n.panel-wrap_rise .rise-tag {\n  position: absolute;\n  left: 0;\n  top: 0;\n  padding-top: 19px;\n  padding-left: 44px;\n  display: block;\n  width: 108px;\n  height: 54px;\n  color: #101119;\n  font-weight: bold;\n}\n\n.panel-wrap_rise .rise-tag.win {\n  background: url(//www.huya.com/act/webAct/201810/img/result_rise_d0cdc.png) no-repeat center center;\n}\n\n.panel-wrap_rise .rise-tag.lose {\n  background: url(//www.huya.com/act/webAct/201810/img/result_lose_e6ad1.png) no-repeat center center;\n}\n\n.panel-wrap_rise .icon-cup {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 69px;\n  height: 52px;\n  background: url(//www.huya.com/act/webAct/201810/img/icon_cup_841f7.png) no-repeat center center;\n}\n\n.panel-wrap_rise .rise-msg {\n  display: block;\n  color: #fff;\n}\n\n.panel-wrap_rise .rise-msg .union {\n  position: relative;\n  top: 1px;\n  margin-right: 3px;\n  display: inline-block;\n  max-width: 6em;\n  color: #dfbe86;\n  font-size: 14px;\n  font-weight: bold;\n  vertical-align: bottom;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  word-wrap: normal;\n  word-break: normal;\n}\n");var $rise=($("#wrap-income"),null),rise={init:function(){$.when(render()).done(function(){tools.importStyle(app.styleArr.join(" "),"incomeStyle")}).done(function(){var n=1==app.common.role?" entertainment":"";$rise.prop("class","panel-wrap j_panel-wrap panel-wrap_rise"+n)})}};module.exports=rise});
;/*!income_widget/main/main.js*/
define("income_widget/main/main",function(require,exports,module){function insertPanel(){var e=new $.Deferred;return $income.html(tpl()),e.resolve(),filter.online.push("income"),insertPanel=function(){var e=new $.Deferred;return e.resolve(),e.promise()},e.promise()}require("income_module/socketConnect");var filter=require("chatPanelFilter"),app=require("income_module/app"),normal=require("income_widget/normal/normal"),end=require("income_widget/end/end"),pk=require("income_widget/pk/pk"),rank=require("income_widget/rank/rank"),rise=require("income_widget/rise/rise"),$income=$("#wrap-income");app.styleArr.push(".wrap-income {\n  position: absolute;\n  z-index: 101;\n}\n\n.panel-wrap {\n  position: relative;\n  width: 338px;\n  z-index: 3;\n}\n\n.panel-wrap * {\n  box-sizing: border-box;\n}\n\n.panel-rank {\n  position: absolute;\n  top: 100px;\n  left: 0;\n  display: none;\n  z-index: 4;\n}\n\n.panel-rank * {\n  box-sizing: border-box;\n}\n");var tpl=function(obj){{var __p="";Array.prototype.join}with(obj||{})__p+='<div class="panel-wrap j_panel-wrap"></div>\r\n<div class="panel-rank j_panel-rank"></div>';return __p},prevStatus=0;app.on("update:panel",function(){prevStatus!=app.config.status&&($.when(insertPanel()).done(function(){switch(app.emit("update:pk:send"),app.config.status){case 1:normal.init(),rank.init(),filter.online.push("income");break;case 2:end.init(),filter.online.push("income");break;case 3:pk.init(),filter.online.push("income");break;case 4:rise.init(),filter.online.push("income");break;default:filter.online.pop("income")}}),prevStatus=app.config.status)})});
;/*!entry.js*/
window.actEntry=function(){function n(){require("income_widget/main/main")}return{init:n}}();