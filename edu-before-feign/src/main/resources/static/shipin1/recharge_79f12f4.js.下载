define("widget/recharge",function(e){function t(e,t){g=new c({nick:t.userNick,lp:a.lp,panelType:e.panelType,hasVideo:n.isOn?1:0}),s&&(s=!1,o.on("saveBagSet",function(e){if("string"==typeof e)try{e=$.parseJSON(e)}catch(t){}i.ready(function(){i.call("saveBagSet",e)})}),o.on("giveGift",function(e){if("string"==typeof e)try{e=$.parseJSON(e)}catch(t){}i.ready(function(){i.call("giveGift",e)})}),o.on("getBagSet",function(){i.ready(function(){var e=i.call("getBagSet")||"",t=g.view.find("iframe")[0],n=t.contentWindow;if("postMessage"in window)n.postMessage('{"code": "getBagSet", "data": "'+e+'"}',"*");else try{window.navigator.onmessage('{"code": "getBagSet", "data": "'+e+'"}')}catch(a){}})}))}var n=e("TTR"),a=e("TTA"),i=e("TTP"),o=e("postMessageEvent"),c=e("topUp"),s=!0,g=null;return function(e){TT.sudo(function(n){t(e||{},n)})}});