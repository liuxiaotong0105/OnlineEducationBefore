define("widget/weekStar",function(require,exports,module){function Tab(e){function a(a){t!==a&&(t=a,r.removeClass(e.className).eq(t).addClass(e.className),n.hide().eq(t).show(),i.fire(t))}e=$.extend({index:0,className:"",init:function(){},change:function(){}},e);var t=-1,r=$(e.nav),n=$(e.pane),i=$.Callbacks();return a(e.index),e.init(t),i.add(e.change),r.on("click",function(e){e.preventDefault(),a($(this).index())}),{index:function(){return t},change:function(e){i.add(e)},go:a}}function LastWeekStar(data){var tpl=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var anchor=data.vTopNPresenterItem&&data.vTopNPresenterItem[0];if(__p+='\n<div class="gwr-star">\n    <div class="gwr-star-hd">\n        <img width="32" height="32" src="'+(null==(__t=TT.trimUrl(data.sPropsIconUrl))?"":__t)+'" alt="'+(null==(__t=data.sPropsName)?"":_.escape(__t))+'" />\n        <p>'+(null==(__t=data.sPropsName)?"":_.escape(__t))+'</p>\n    </div>\n    <div class="gwr-star-bd">\n        ',anchor){if(window.IS_UNION)var href=TT.app.main+"union/"+TT.createRoomHost(anchor.sPrivateHost,anchor.iRoomId,anchor.lImid)+"?promoter="+TT.promoter,target="_self";else var href=TT.app.main+TT.createRoomHost(anchor.sPrivateHost,anchor.iRoomId,anchor.lImid),target="_blank";__p+='\n            <a class="avatar" target="'+(null==(__t=target)?"":__t)+'" href="'+(null==(__t=href)?"":__t)+'" title="'+(null==(__t=anchor.isOnLive?"\u8fdb\u5165\u76f4\u64ad\u95f4":"TA\u8fd8\u6ca1\u6709\u5f00\u64ad")?"":__t)+'">\n                <img width="80" height="80" src="'+(null==(__t=TT.trimUrl(anchor.sFaceURL))?"":__t)+'" alt="'+(null==(__t=anchor.sNickname)?"":_.escape(__t))+'" />\n                ',anchor.isOnLive&&(__p+="\n                    <span>\u76f4\u64ad\u4e2d</span>\n                "),__p+='\n            </a>\n            <p class="name" title="'+(null==(__t=anchor.sNickname)?"":_.escape(__t))+'">'+(null==(__t=anchor.sNickname)?"":_.escape(__t))+'</p>\n            <span class="count">\u6536\u5230: '+(null==(__t=anchor.iPropsNum)?"":__t)+"</span>\n        "}else __p+='\n            <a class="avatar" href="#">\n                <img width="80" height="80" src="'+(null==(__t="https://a.msstatic.com/huya/main/widget/weekStar/img/avatar_5aef4d0.png")?"":__t)+'" alt="\u865a\u4f4d\u4ee5\u5f85" />\n            </a>\n            <p class="null">\u6ca1\u6709\u4e3b\u64ad\u8fbe\u6210\u5468\u661f</p>\n        ';__p+="\n    </div>\n</div>\n"}return __p},html="";return $.each(data,function(e,a){a&&(html+="<li>"+tpl({data:a})+"</li>")}),{html:"<ul>"+html+"</ul>"}}function Ranks(data,weekStarType){function render(e){var a=[];return $.each(e,function(e,t){t&&a.push(tpl({data:t}))}),'<div class="gwr-rank-item">'+a.join('</div><div class="gwr-rank-item">')+"</div>"}var tpl=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var anchorList=data.vTopNPresenterItem||[];if(__p+='\n<div class="gwr-rank">\n    <div class="gwr-rank-hd">\n        <div class="gift">                     \n            <span class="pic"><img width="32" height="32" src="'+(null==(__t=TT.trimUrl(data.sPropsIconUrl))?"":__t)+'" alt="'+(null==(__t=data.sPropsName)?"":_.escape(__t))+'" /></span>\n            <p class="name">'+(null==(__t=data.sPropsName)?"":_.escape(__t))+'</p>\n        </div>\n        <div class="current-rank J_cr" data-pid="'+(null==(__t=data.lPropsId)?"":__t)+'">\n            <i class="cr-icon"></i>\n            <div class="cr-anchor">\n                <div class="gwr-box">\n                    <div class="box-hd">\u5f53\u524d\u4e3b\u64ad\u7684\u5468\u661f\u6392\u540d</div>\n                    <div class="box-bd loading J_crAnchorInfo">\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="gwr-rank-bd">\n        <div class="cr-list">\n        ',anchorList.length){__p+="\n            <ol>\n            ";for(var i=0;10>i;i++){if(anchor=anchorList[i],3>i){if(__p+="\n                    ",anchor){if(window.IS_UNION)var href=TT.app.main+"union/"+TT.createRoomHost(anchor.sPrivateHost,anchor.iRoomId,anchor.lImid)+"?promoter="+TT.promoter,target="_self";else var href=TT.app.main+TT.createRoomHost(anchor.sPrivateHost,anchor.iRoomId,anchor.lImid),target="_blank";__p+='\n                    <li>\n                        <a class="winner" target="'+(null==(__t=target)?"":__t)+'" href="'+(null==(__t=href)?"":__t)+'" title="'+(null==(__t=anchor.isOnLive?"\u8fdb\u5165\u76f4\u64ad\u95f4":"TA\u8fd8\u6ca1\u6709\u5f00\u64ad")?"":__t)+'">\n                            <i class="no'+(null==(__t=i+1)?"":__t)+'"></i>\n                            <p class="avatar">\n                                <img width="46" height="46" src="'+(null==(__t=TT.trimUrl(anchor.sFaceURL))?"":__t)+'" alt="'+(null==(__t=anchor.sNickname)?"":_.escape(__t))+'" />\n                                ',anchor.isOnLive&&(__p+="\n                                    <span>\u76f4\u64ad\u4e2d</span>\n                                "),__p+='\n                                <b data-decs="\u8fd9\u4e2a\u5143\u7d20\u7684\u5b58\u5728\u53ea\u662f\u4e3a\u4e86\u89e3\u51b3ie7\u4e0b\u70b9\u51fb\u56fe\u7247\u65e0\u6cd5\u89e6\u53d1a\u94fe\u63a5\u8df3\u8f6c\u7684bug"></b>\n                            </p>\n                            <div class="info">\n                                <p class="name" title="'+(null==(__t=anchor.sNickname)?"":_.escape(__t))+'">'+(null==(__t=anchor.sNickname)?"":_.escape(__t))+'</p>\n                                <p class="count">\u6536\u5230: '+(null==(__t=anchor.iPropsNum)?"":__t)+"</p>\n                            </div>\n                        </a>\n                    </li>\n                    "}else __p+='\n                    <li>\n                        <a class="winner" href="#">\n                            <i class="no'+(null==(__t=i+1)?"":__t)+'"></i>\n                            <p class="avatar">\n                                <img width="46" height="46" src="'+(null==(__t="https://a.msstatic.com/huya/main/widget/weekStar/img/avatar_5aef4d0.png")?"":__t)+'" alt="\u865a\u4f4d\u4ee5\u5f85" />\n                            </p>\n                            <div class="info">\n                                <p class="null">-- \u865a\u4f4d\u4ee5\u5f85 --</p>\n                            </div>\n                        </a>\n                    </li>\n                    ';__p+="\n                "}else __p+='\n                    <li>\n                        <div class="loser">\n                            <i>'+(null==(__t=i+1)?"":__t)+'</i>\n                            <div class="loser-wrap">\n                                ',__p+=anchor?'\n                                <span class="count">'+(null==(__t=anchor.iPropsNum)?"":__t)+'</span>\n                                <p class="name" title="'+(null==(__t=anchor.sNickname)?"":_.escape(__t))+'">'+(null==(__t=anchor.sNickname)?"":_.escape(__t))+"</p>\n                                ":'\n                                <p class="null">-- \u865a\u4f4d\u4ee5\u5f85 --</p>\n                                ',__p+="\n                            </div>\n                        </div>\n                    </li>\n                ";__p+="\n            "}__p+="\n            </ol>\n        "}else __p+='\n            <div class="cr-list-null">\u6682\u65f6\u672a\u6709\u4eba\u4e0a\u699c\uff0c\u518d\u63a5\u518d\u5389~</div>\n        ';__p+="\n        </div>                        \n    </div>\n</div>\n"}return __p},container=$('<div class="gwr-rank-list"></div>');return container.html(render(data)),container.off("mouseenter",".J_cr").on("mouseenter",".J_cr",function(){var e=$(this),a=e.find(".J_crAnchorInfo");a.hasClass("loading")&&$.ajax({type:"GET",url:"//"+(TT.isProd?"":"test.")+"q.huya.com/?m=GiftWeekStar&do=getUserRankingNew",dataType:"jsonp",data:{uid:TTA.lp,propid:e.data("pid"),weekStarType:weekStarType}}).always(function(){a.removeClass("loading")}).done(function(e){if(200==e.status)if(e.data){var t=e.data.iRanking;a.html('<img class="avatar" src="'+TT.trimUrl(e.data.avatar)+'" alt="'+TTA.nick+'" /><div class="info"><p class="name" title="'+TTA.nick+'">'+TTA.nick+'</p><p class="count">\u6536\u5230: '+e.data.iPropsNum+'</p><p class="num">'+(t>0?"\u6392\u540d: "+(100>t?t:"99+"):"\u672a\u4e0a\u699c")+"</p></div>")}else a.html('<p style="text-align:center;">-- \u83b7\u53d6\u6570\u636e\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5 --</p>');else a.html('<p style="text-align:center;">-- \u83b7\u53d6\u6570\u636e\u5931\u8d25: '+e.msg+" --</p>")}).fail(function(e,t){a.html('<p style="text-align:center;">-- \u83b7\u53d6\u6570\u636e\u5931\u8d25: '+t+" --</p>")})}),{view:container}}function ThisWeekStar(cfg){var tpl=function(obj){{var __p="";Array.prototype.join}with(obj||{})__p+='<div class="gwr-mod">\n    <a href="#" target="_blank" class="gwr-dztTit J_gwrDztTit"></a>\n    <div class="mod-hd">\n        <i class="mod-icon"></i>\n        <p class="mod-tit">\u672c\u5468\u5468\u661f\u89d2\u9010</p>\n        <div class="mod-intro intro-rule">\n            <span class="intro-tit">\u6d3b\u52a8\u89c4\u5219</span>\n            <div class="intro-cont">\n                <div class="gwr-rule">\n                    <p>1. \u6bcf\u5468\u4e0000:00\u81f3\u5468\u65e524:00\uff0c\u4e3a\u793c\u7269\u5468\u661f\u4e89\u593a\u671f\uff1b</p>\n                    <p>2. \u9001\u51fa\u5f53\u5468\u6307\u5b9a\u7684\u201c\u5468\u661f\u793c\u7269\u201d\u5c31\u53ef\u5e2e\u52a9\u4e3b\u64ad\u4e89\u593a\u6bcf\u5468\u5468\u661f\uff1b</p>\n                    <p>3. \u5468\u661f\u699c\u6bcf\u5468\u65e524:00\u7ed3\u7b97\uff0c\u6536\u5230\u5468\u661f\u793c\u7269\u6700\u591a\u7684\u4e3b\u64ad\u5c06\u6210\u4e3a\u672c\u5468\u5468\u661f\uff1b</p>\n                    <p>4. \u83b7\u5f97\u4e00\u5468\u5468\u661f\u7684\u4e3b\u64ad\u5c06\u4f1a\u83b7\u5f97\u4e30\u539a\u5956\u52b1\uff08\u8be6\u89c1\u5468\u661f\u5956\u52b1\uff09\u3002</p>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="mod-bd">\n        <div class="gwr-ranks J_gwrRanks"></div>\n        <div class="gwr-rank-cd">\u5907\u6ce8\uff1a\u699c\u5355\u4f1a\u6bcf\u969460s\u5237\u65b0\u4e00\u6b21<em class="J_gwrCd">60S</em></div>\n    </div>\n</div>\n';return __p},view=$(tpl()),ranksContainer=view.find(".J_gwrRanks");ranksContainer.addClass("loading"),$.ajax({type:"GET",url:cfg.url,dataType:"jsonp"}).done(function(e){if(200==e.status){if(!e.data)return void ranksContainer.html('<p style="text-align:center;">-- \u699c\u4e0a\u65e0\u540d --</p>');e.data.sTitle&&e.data.sUrl&&($("#J_gwr").addClass("gwr-active"),view.find(".J_gwrDztTit").text(e.data.sTitle).attr({href:e.data.sUrl,title:e.data.sUrl})),e.data.vStartProps?ranksContainer.append(new Ranks(e.data.vStartProps,cfg.weekStarType).view):ranksContainer.html('<p style="text-align:center;">-- \u699c\u4e0a\u65e0\u540d --</p>')}else ranksContainer.html('<p style="text-align:center;">-- \u83b7\u53d6\u6570\u636e\u5931\u8d25: '+e.msg+" --</p>")}).fail(function(e,a){ranksContainer.html('<p style="text-align:center;">-- \u83b7\u53d6\u6570\u636e\u5931\u8d25: '+a+" --</p>")}).always(function(){ranksContainer.removeClass("loading"),cfg.initComplete()});var cd=cfg.cd,cdOutput=view.find(".J_gwrCd").html(cd+"S"),intervalID=setInterval(function(){cdOutput.html(--cd+"S"),0===cd&&(clearInterval(intervalID),cfg.timeout())},1e3);return{view:view}}function WeekStar(lastWeekStarUrl,ThisWeekStarUrl,initComplete,weekStarType){function fresh(e){timeout=!1;var a=new ThisWeekStar({url:ThisWeekStarUrl,weekStarType:weekStarType,initComplete:e||function(){},cd:60,timeout:function(){timeout=!0,locked||fresh()}});view.find(".gwr-mod-rank").empty().append(a.view)}var tpl={view:function(obj){{var __p="";Array.prototype.join}with(obj||{})__p+='<div class="gwr-weekStar">\n    <div class="gwr-mod">\n        <div class="mod-hd">\n            <i class="mod-icon"></i>\n            <p class="mod-tit">\u4e0a\u5468\u6700\u95ea\u4eae\u7684\u5468\u661f</p>\n            <div class="mod-intro intro-reward">\n                <span class="intro-tit">\u5468\u661f\u5956\u52b1</span>\n                <div class="intro-cont">\n                    <div class="gwr-reward"></div>\n                </div>\n            </div>\n        </div>\n        <div class="mod-bd">\n            <div class="gwr-star-list loading J_gwrStar"></div>\n        </div>\n    </div>\n    <div class="gwr-mod-rank"></div>\n</div>\n';return __p}},view=$(tpl.view());view.on("click",".J_gwrStar li",function(){var e=$(this).index();try{ya.reportProductEvent({eid:"click/weekStar/"+{2:"game",3:"show"}[weekStarType]+"/last/"+e,eid_desc:"\u70b9\u51fb/\u5468\u661f\u699c/"+{2:"\u6e38\u620f",3:"\u5a31\u4e50"}[weekStarType]+"/\u4e0a\u5468\u5468\u661f/"+e})}catch(a){}}),view.on("click",".J_gwrRanks li",function(){try{ya.reportProductEvent({eid:"click/weekStar/"+{2:"game",3:"show"}[weekStarType]+"/this",eid_desc:"\u70b9\u51fb/\u5468\u661f\u699c/"+{2:"\u6e38\u620f",3:"\u5a31\u4e50"}[weekStarType]+"/\u672c\u5468\u5468\u661f"})}catch(e){}});var box=view.find(".J_gwrStar");$.ajax({type:"GET",url:lastWeekStarUrl,dataType:"jsonp"}).always(function(){box.removeClass("loading")}).done(function(e){if(200==e.status){var a=e.data&&$.isArray(e.data.vStartProps)?e.data.vStartProps:[];a.length?box.html(new LastWeekStar(a.slice(0,4)).html):box.addClass("null")}else box.html('<p style="text-align:center;">-- \u83b7\u53d6\u6570\u636e\u5931\u8d25: '+e.msg+" --</p>")}).fail(function(e,a){box.html('<p style="text-align:center;">-- \u83b7\u53d6\u6570\u636e\u5931\u8d25: '+a+" --</p>")});var timeout,locked=!1;return fresh(initComplete),{view:view,lock:function(){locked||(locked=!0)},unlock:function(){locked&&(locked=!1,timeout&&fresh())}}}function createWeekStar(tabIndex){var cssText='@charset "UTF-8";@keyframes zoomIn{from{opacity:0;transform:scale3d(0.3,.3,.3)}50%{opacity:1}}.zoomIn{animation-name:zoomIn}@keyframes zoomOut{from{opacity:1}50%{opacity:0;transform:scale3d(0.3,.3,.3)}to{opacity:0}}.zoomOut{animation-name:zoomOut}:root .giftWeekRank .gwr-star .gwr-star-bd .avatar span,:root .giftWeekRank .gwr-rank .cr-list .winner:hover,:root .giftWeekRank .gwr-rank .cr-list .winner .avatar span{filter:progid:DXImageTransform.Microsoft.gradient(enabled=false)}.giftWeekRank{animation-duration:.5s;animation-fill-mode:both}.giftWeekRank{position:absolute;left:300px;top:100px;z-index:1000;color:#4c4c4c;font-family:"Microsoft YaHei";word-wrap:normal}.giftWeekRank .jspVerticalBar{width:10px;right:20px}.giftWeekRank .jspDrag{width:10px;border-radius:5px;background:#E3A2FE;visibility:visible}.giftWeekRank .jspTrack:hover .jspDrag{background:#D695F2}.giftWeekRank .gwr-hd{position:relative;width:599px;height:151px;background:url(https://a.msstatic.com/huya/main/widget/weekStar/img/gwr-hd_4eaaac5.png) no-repeat 50%}.giftWeekRank .gwr-hd p{display:none}.giftWeekRank .gwr-hd i{position:absolute;right:3px;bottom:30px;width:45px;height:45px;cursor:pointer}.giftWeekRank.gwr-active .gwr-hd{background-image:url(https://a.msstatic.com/huya/main/widget/weekStar/img/gwr-hd-0_7fea171.png)}.giftWeekRank .gwr-bd{width:588px;height:424px;overflow:hidden;background:url(https://a.msstatic.com/huya/main/widget/weekStar/img/gwr-bd_77aae9e.png) no-repeat 50% 0}.giftWeekRank.gwr-active .gwr-bd{background:url(https://a.msstatic.com/huya/main/widget/weekStar/img/gwr-bd-0_8b9699d.png) no-repeat 50% 0}.giftWeekRank .gwr-main{height:404px}.giftWeekRank .gwr-cont{margin-left:35px;width:502px}.giftWeekRank .category-nav{padding:10px 0;text-align:right}.giftWeekRank .category-nav a{display:inline-block;padding:2px 10px;margin-left:6px;font-size:12px;color:#A44DE7;background:#FFF4FF;text-decoration:none;border-radius:8px}.giftWeekRank .category-nav a.on{background:#A44DE7;color:#fff;text-decoration:none;cursor:default}.giftWeekRank .gwr-mod .mod-hd{zoom:1}.giftWeekRank .gwr-mod .mod-hd:before,.giftWeekRank .gwr-mod .mod-hd:after{display:table;content:""}.giftWeekRank .gwr-mod .mod-hd:after{clear:both}.giftWeekRank .gwr-mod .mod-hd .mod-icon{float:left;width:25px;height:27px;overflow:hidden;background:url(https://a.msstatic.com/huya/main/widget/weekStar/img/star_bdc754e.png) no-repeat 0 0}.giftWeekRank .gwr-mod .mod-hd .mod-tit{float:left;margin:6px 0 0 .3em;font-size:14px;font-weight:700;color:#d0452a}.giftWeekRank .gwr-mod .mod-hd .mod-intro{position:relative;float:right;margin-top:8px}.giftWeekRank .gwr-mod .mod-hd .mod-intro .intro-tit{color:#09f;cursor:pointer}.giftWeekRank .gwr-mod .mod-hd .mod-intro .intro-cont{display:none;position:absolute;right:0;top:100%}.giftWeekRank .gwr-mod .mod-hd .mod-intro:hover .intro-cont{display:block}.giftWeekRank .gwr-mod .mod-bd{margin-top:12px}.giftWeekRank .gwr-box{padding:6px 10px;background:#D5A4FF;border:1px solid #BF8AFF;border-radius:5px}.giftWeekRank .gwr-box .box-hd{padding-bottom:5px;font-weight:700;color:#d0452a;border-bottom:1px solid #BF96F5}.giftWeekRank .gwr-box .box-bd{margin-top:10px}.giftWeekRank .intro-reward{z-index:666}.giftWeekRank .gwr-reward{width:406px;height:251px;background:url(https://a.msstatic.com/huya/main/widget/weekStar/img/reward_276d76b.png)}.giftWeekRank .intro-rule{z-index:555}.giftWeekRank .gwr-rule{width:392px;height:103px;padding:12px 0 0 12px;line-height:2;border:1px solid #BF8AFF;background:#D5A4FF;border-radius:5px}.giftWeekRank .gwr-star-list{height:190px;width:100%;overflow:hidden}.giftWeekRank .gwr-star-list ul{zoom:1;margin-right:-100px}.giftWeekRank .gwr-star-list ul:before,.giftWeekRank .gwr-star-list ul:after{display:table;content:""}.giftWeekRank .gwr-star-list ul:after{clear:both}.giftWeekRank .gwr-star-list li{float:left;margin-right:14px}.giftWeekRank .gwr-star-list.null{background:url(https://a.msstatic.com/huya/main/widget/weekStar/img/star-null_23f87cc.png) no-repeat 50%}.giftWeekRank .gwr-star-list.loading{background:url(https://a.msstatic.com/huya/main/assets/img/loading.gif) no-repeat 50%}.giftWeekRank .gwr-star{width:95px;height:170px;padding:10px;overflow:hidden;background:#A44DE7;border-radius:5px}.giftWeekRank .gwr-star .gwr-star-hd{overflow:hidden;zoom:1;border-bottom:1px solid #B464F0}.giftWeekRank .gwr-star .gwr-star-hd img{float:left;width:32px;height:32px;border-radius:50%}.giftWeekRank .gwr-star .gwr-star-hd p{margin:5px 0 0 40px;color:#dbc9f1;white-space:nowrap;overflow:hidden}.giftWeekRank .gwr-star .gwr-star-bd{margin-top:10px}.giftWeekRank .gwr-star .gwr-star-bd .avatar{display:block;position:relative;text-align:center}.giftWeekRank .gwr-star .gwr-star-bd .avatar img{width:80px;height:80px;border-radius:50%}.giftWeekRank .gwr-star .gwr-star-bd .avatar span{position:absolute;left:24px;bottom:0;padding:0 .5em;background-color:rgba(0,0,0,.75);filter:progid:DXImageTransform.Microsoft.Gradient(GradientType=0, StartColorStr="#BF000000", EndColorStr="#BF000000");zoom:1;border-radius:.75em;color:#D9D9D9}.giftWeekRank .gwr-star .gwr-star-bd .name{margin-top:10px;text-align:center;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;color:#fff}.giftWeekRank .gwr-star .gwr-star-bd .count{display:block;margin-top:3px;text-align:center;color:#d9adff;font-family:\\5b8b\\4f53}.giftWeekRank .gwr-star .gwr-star-bd .null{margin-top:10px;color:#d9adff;white-space:nowrap}.giftWeekRank .gwr-mod-rank{position:relative;margin-top:20px}.giftWeekRank .gwr-dztTit{display:none;position:absolute;top:3px;left:122px;width:260px;padding:0 30px;line-height:24px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;background:url(https://a.msstatic.com/huya/main/widget/weekStar/img/dzt-tit_7cae6ca.png) no-repeat;color:#ECECEC}.giftWeekRank .gwr-dztTit:hover{text-decoration:none;color:#ECECEC}.giftWeekRank.gwr-active .gwr-dztTit{display:block}.giftWeekRank .gwr-ranks{width:100%;overflow:hidden;min-height:500px}.giftWeekRank .gwr-ranks .gwr-rank-list{margin-right:-100px;zoom:1}.giftWeekRank .gwr-ranks .gwr-rank-list:before,.giftWeekRank .gwr-ranks .gwr-rank-list:after{display:table;content:""}.giftWeekRank .gwr-ranks .gwr-rank-list:after{clear:both}.giftWeekRank .gwr-ranks .gwr-rank-item{float:left;width:240px;height:435px;margin:0 22px 20px 0}.giftWeekRank .gwr-ranks.loading{background:url(https://a.msstatic.com/huya/main/assets/img/loading.gif) no-repeat 50% 55px}.giftWeekRank .gwr-rank{position:relative;z-index:0;width:100%}.giftWeekRank .gwr-rank .gwr-rank-hd{position:relative;z-index:222;zoom:1;border-bottom:1px solid #CEBCE3;margin-left:16px}.giftWeekRank .gwr-rank .gwr-rank-hd:before,.giftWeekRank .gwr-rank .gwr-rank-hd:after{display:table;content:""}.giftWeekRank .gwr-rank .gwr-rank-hd:after{clear:both}.giftWeekRank .gwr-rank .gwr-rank-hd .gift{float:left;margin-left:-16px}.giftWeekRank .gwr-rank .gwr-rank-hd .gift .pic{float:left;width:32px;height:32px;border-radius:50%}.giftWeekRank .gwr-rank .gwr-rank-hd .gift .pic img{width:100%;height:100%;border-radius:50%}.giftWeekRank .gwr-rank .gwr-rank-hd .gift .name{float:left;margin:12px 0 0 .7em}.giftWeekRank .gwr-rank .gwr-rank-hd .current-rank{float:right;position:relative;margin-top:18px}.giftWeekRank .gwr-rank .gwr-rank-hd .current-rank .cr-icon{display:block;width:14px;height:11px;overflow:hidden;background:url(https://a.msstatic.com/huya/main/widget/weekStar/img/u_613165d.png) no-repeat 0 0;cursor:pointer}.giftWeekRank .gwr-rank .gwr-rank-hd .current-rank .cr-anchor{display:none;position:absolute;right:0;top:14px;width:208px}.giftWeekRank .gwr-rank .gwr-rank-hd .current-rank .cr-anchor .box-bd{height:55px}.giftWeekRank .gwr-rank .gwr-rank-hd .current-rank .cr-anchor .box-bd.loading{background:url(https://a.msstatic.com/huya/main/assets/img/loading.gif) no-repeat 50%}.giftWeekRank .gwr-rank .gwr-rank-hd .current-rank .cr-anchor .avatar{float:left;width:48px;height:48px;border-radius:50%}.giftWeekRank .gwr-rank .gwr-rank-hd .current-rank .cr-anchor .info{overflow:hidden;zoom:1;padding-left:.8em;font-family:\\5b8b\\4f53}.giftWeekRank .gwr-rank .gwr-rank-hd .current-rank .cr-anchor .info p{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.giftWeekRank .gwr-rank .gwr-rank-hd .current-rank .cr-anchor .info .name{color:#4c4c4c}.giftWeekRank .gwr-rank .gwr-rank-hd .current-rank .cr-anchor .info .count,.giftWeekRank .gwr-rank .gwr-rank-hd .current-rank .cr-anchor .info .num{color:gray}.giftWeekRank .gwr-rank .gwr-rank-hd .current-rank:hover .cr-anchor{display:block}.giftWeekRank .gwr-rank .gwr-rank-bd{position:relative;z-index:111}.giftWeekRank .gwr-rank .cr-list .cr-list-null{padding-top:3em;text-align:center;color:gray}.giftWeekRank .gwr-rank .cr-list .winner{display:block;padding:8px 0 8px 7px;zoom:1;text-decoration:none}.giftWeekRank .gwr-rank .cr-list .winner:before,.giftWeekRank .gwr-rank .cr-list .winner:after{display:table;content:""}.giftWeekRank .gwr-rank .cr-list .winner:after{clear:both}.giftWeekRank .gwr-rank .cr-list .winner:hover{background-color:rgba(255,255,255,.3);filter:progid:DXImageTransform.Microsoft.Gradient(GradientType=0, StartColorStr="#4DFFFFFF", EndColorStr="#4DFFFFFF");zoom:1}.giftWeekRank .gwr-rank .cr-list .winner i{float:left;width:17px;height:18px;margin-top:13px}.giftWeekRank .gwr-rank .cr-list .winner .no1{background:url(https://a.msstatic.com/huya/main/widget/weekStar/img/no1_1840366.png) no-repeat 0 0}.giftWeekRank .gwr-rank .cr-list .winner .no2{background:url(https://a.msstatic.com/huya/main/widget/weekStar/img/no2_2b8be7f.png) no-repeat 0 0}.giftWeekRank .gwr-rank .cr-list .winner .no3{background:url(https://a.msstatic.com/huya/main/widget/weekStar/img/no3_fb6567f.png) no-repeat 0 0}.giftWeekRank .gwr-rank .cr-list .winner .avatar{float:left;margin-left:10px;position:relative;width:46px;height:46px}.giftWeekRank .gwr-rank .cr-list .winner .avatar img{width:100%;height:100%;border-radius:50%}.giftWeekRank .gwr-rank .cr-list .winner .avatar span{position:absolute;display:block;left:0;bottom:0;width:100%;background-color:rgba(0,0,0,.75);filter:progid:DXImageTransform.Microsoft.Gradient(GradientType=0, StartColorStr="#BF000000", EndColorStr="#BF000000");zoom:1;border-radius:.75em;text-align:center}.giftWeekRank .gwr-rank .cr-list .winner .avatar b{position:absolute;left:0;top:0;width:100%;height:100%;overflow:hidden;background:url(about:blank)}.giftWeekRank .gwr-rank .cr-list .winner .info{overflow:hidden;zoom:1;padding-left:.8em}.giftWeekRank .gwr-rank .cr-list .winner .info p{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.giftWeekRank .gwr-rank .cr-list .winner .info .name{color:#4c4c4c;line-height:2}.giftWeekRank .gwr-rank .cr-list .winner .info .count{color:gray}.giftWeekRank .gwr-rank .cr-list .winner .info .null{margin-top:13px;color:gray}.giftWeekRank .gwr-rank .cr-list .loser{padding:5px 0 5px 11px;zoom:1}.giftWeekRank .gwr-rank .cr-list .loser:before,.giftWeekRank .gwr-rank .cr-list .loser:after{display:table;content:""}.giftWeekRank .gwr-rank .cr-list .loser:after{clear:both}.giftWeekRank .gwr-rank .cr-list .loser i{float:left;font-weight:700;font-size:14px}.giftWeekRank .gwr-rank .cr-list .loser .loser-wrap{padding-left:16px;overflow:hidden;zoom:1}.giftWeekRank .gwr-rank .cr-list .loser .loser-wrap .count{float:right;color:gray}.giftWeekRank .gwr-rank .cr-list .loser .loser-wrap .name{overflow:hidden;zoom:1;padding-right:.8em;white-space:nowrap;text-overflow:ellipsis}.giftWeekRank .gwr-rank .cr-list .loser .loser-wrap .null{padding-right:.8em;color:gray}.giftWeekRank .gwr-rank-cd{margin-top:1em;line-height:2;color:#666}.giftWeekRank .gwr-rank-cd em{color:#009DFF}',tpl=function(obj){{var __p="";Array.prototype.join}with(obj||{})__p+='<div class="giftWeekRank" id="J_gwr">\n    <div class="gwr-hd">\n        <p>\u793c\u7269\u5468\u661f\u699c</p>\n        <i class="J_gwrCls"></i>\n    </div>\n    <div class="gwr-bd">\n        <div class="gwr-main" id="gwr-scroll">\n            <div class="gwr-cont">\n                <div class="gwr-category">\n                    <div class="category-nav">\n                        <a href="#">\u6e38\u620f\u699c</a>\n                        <a href="#">\u5a31\u4e50\u699c</a>\n                    </div>\n                    <div class="category-cont">\n                        <div class="category-item"></div>\n                        <div class="category-item"></div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>';return __p};HUYA_UTIL.createStyleSheet(cssText);var weekStarGame,weekStarAmuse,layer=dialog.layer({view:tpl(),zIndex:29999,lock:!1}),view=layer.view,visible=!1,animated=!1,isAnimationSupport=animationSupport(),open=function(){visible||animated||(visible=!0,layer.open(),weekStarGame&&weekStarGame.unlock(),weekStarAmuse&&weekStarAmuse.unlock(),isAnimationSupport&&(animated=!0,view.addClass("zoomIn"),setTimeout(function(){view.removeClass("zoomIn"),animated=!1},500)))},close=function(){visible&&!animated&&(visible=!1,weekStarGame&&weekStarGame.lock(),weekStarAmuse&&weekStarAmuse.lock(),isAnimationSupport?(animated=!0,view.addClass("zoomOut"),setTimeout(function(){layer.hide(),view.removeClass("zoomOut"),animated=!1},500)):layer.hide())};view.find(".J_gwrCls").on("click",function(e){e.preventDefault(),close()});{var scrollbar=view.find("#gwr-scroll").jScrollPane({mouseWheelSpeed:20,animateScroll:!0}).data("jsp"),getWeekStarGame=function(){return weekStarGame||(weekStarGame=new WeekStar("//"+(TT.isProd?"":"test.")+"q.huya.com/?m=GiftWeekStar&do=getLastGameWeekStars","//"+(TT.isProd?"":"test.")+"q.huya.com/?m=GiftWeekStar&do=getGameWeekStars",function(){scrollbar.reinitialise()},2),view.find(".category-item").eq(0).append(weekStarGame.view)),weekStarGame},getWeekStarAmuse=function(){return weekStarAmuse||(weekStarAmuse=new WeekStar("//"+(TT.isProd?"":"test.")+"q.huya.com/?m=GiftWeekStar&do=getLastShowWeekStars","//"+(TT.isProd?"":"test.")+"q.huya.com/?m=GiftWeekStar&do=getShowWeekStars",function(){scrollbar.reinitialise()},3),view.find(".category-item").eq(1).append(weekStarAmuse.view)),weekStarAmuse};new Tab({index:tabIndex,nav:view.find(".category-nav a"),pane:view.find(".category-item"),className:"on",init:function(e){0==e&&getWeekStarGame(),1==e&&getWeekStarAmuse()},change:function(e){0==e?getWeekStarGame().unlock():getWeekStarGame().lock(),1==e?getWeekStarAmuse().unlock():getWeekStarAmuse().lock()}})}return{open:open,close:close,toggle:function(){visible?close():open()}}}var TTR=require("TTR"),TTA=require("TTA"),dialog=require("widget/dialog");require("jScrollPane");var weekStar,animationSupport=function(){var e=!1,a="animation",t="",r="Webkit Moz O ms Khtml".split(" "),n="",i=document.createElement("div");if(void 0!==i.style.animationName&&(e=!0),e===!1)for(var o=0;o<r.length;o++)if(void 0!==i.style[r[o]+"AnimationName"]){n=r[o],a=n+"Animation",t="-"+n.toLowerCase()+"-",e=!0;break}return e},isSJ=(6==TTR.liveSourceType&&0==TTR.screenType||2==TTR.liveSourceType)&&2168==TTR.gid;return function(){(weekStar||(weekStar=new createWeekStar(isSJ?1:8==TTR.bussType?1:0))).toggle()}});