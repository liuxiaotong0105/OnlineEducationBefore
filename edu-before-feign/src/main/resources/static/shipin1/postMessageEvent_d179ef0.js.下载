define("postMessageEvent",function(){function t(t){if("string"==typeof t)try{t=$.parseJSON(t)}catch(e){}if($.isPlainObject(t)){var a=n[t.code];a&&a.fire(t.data)}else try{console.log("'data' must be a json!")}catch(e){}}var n={};if("postMessage"in window)"addEventListener"in document?window.addEventListener("message",function(n){/huya\.com$/.test(n.origin)&&t.call(this,n.data)},!1):"attachEvent"in document&&window.attachEvent("onmessage",function(n){/huya\.com$/.test(n.origin)&&t.call(this,n.data)});else{var e=window.navigator.onmessage;window.navigator.onmessage=function(){t.call(this,arguments),"function"==typeof e&&e.call(this,arguments)}}return{on:function(t,e){return n[t]||(n[t]=$.Callbacks()),n[t].add(e),this},off:function(t,e){var a=arguments.length;if(0===a)for(var i in n)n.hasOwnProperty(i)&&n[i].empty();else{var o=n[t];o&&(1===a?o.empty():o.remove(e))}return this}}});