define("noble",function(n,e){function a(n){var e=n.tNobleInfo.iNobleLevel;return!r.cfg[20003]&&e>0&&6>=e}function t(n){function e(n){n&&(i.push(n),t())}function a(n,e){e&&(i.splice(n,0,e),t())}function t(){null===l&&(l=setTimeout(function(){i.length?(n.onPop(i.shift()),l=null,t()):(l=null,n.onIdle())},n.time))}var i=[],l=null;this.size=function(){return i.length},this.push=e,this.insert=a}function i(n){var e=m.createMid();return{id:e,data:{uid:n.lUid,nick:n.sNickName,msg:"\u8d35\u65cf\u5165\u573a\u901a\u77e5"},elm:m.parseHTML('<li class="J_msg" data-id="'+e+'">'+l(n)+"</li>")[0]}}function l(n){var e=n.tNobleInfo.iNobleLevel,a=f[e];return'<div class="msg-nobleEnter"><div class="box-noble-level-'+e+'"><p class="msg-nobleEnter-cont"><span class="name J_userMenu" title="\u70b9\u51fb\u67e5\u770b\u4e2a\u4eba\u4fe1\u606f">'+_.escape(n.sNickName)+'</span> <span class="msg-nobleEnter-text">&nbsp;\u9a7e\u4e34\u76f4\u64ad\u95f4</span><span class="msg-nobleEnter-pic"><img width="46" height="46" src="'+a+'"></span></p></div></div>'}var o=n("TTP"),s=n("TTR"),c=n("TTA"),m=n("msgManager"),r=n("roomShield"),u=n("tafPreListen"),p=HUYA_UTIL.getCookieVal("yyuid"),d=null,h=500,g=new t({time:h,onPop:function(n){var e=i(n);!d||p&&d.data.uid==p||(d.elm.style.display="none"),d=null,m.append(e,e.elm),d=e},onIdle:function(){d=null}});m.on("cls",function(){d=null}),m.on("appendBefore",function(n,e,a){d&&(a?e.appendChild(d.elm):m.container.appendChild(d.elm))}),u.one("myNobleEnter",function(n){a(n.param?n.param:n)&&g.insert(g.size()>0?1:0,n.param?n.param:n)},!0),o.isH5?o.ready(function(n){n.addTafListener("6110",function(n){a(n)&&!(p&&p==n.lUid)&&g.push(n)})}):o.on("onNobleEnter",function(n){a(n.param)&&!(p&&p==n.param.lUid)&&g.push(n.param)});var f={1:"https://a.msstatic.com/huya/main/img/noble_enter/lv1_7a94845.png",2:"https://a.msstatic.com/huya/main/img/noble_enter/lv2_14bf7ab.png",3:"https://a.msstatic.com/huya/main/img/noble_enter/lv3_46aba0f.png",4:"https://a.msstatic.com/huya/main/img/noble_enter/lv4_34a9b4d.png",5:"https://a.msstatic.com/huya/main/img/noble_enter/lv5_3c96c9e.png",6:"https://a.msstatic.com/huya/main/img/noble_enter/lv6_c5390b4.png"},b=null;e.open=function(){NAV_UTIL.checkLogin(function(){n("getCreatelayer")(function(n){b?b.show():b=new n({title:"\u5f00\u901a\u8d35\u65cf",width:740,height:540,url:"//hd.huya.com/gzopen/reChargeLayer.html?anchorUid="+c.lp+"&channelId="+s.id+"&subChannelId="+s.sid+"&source=web&gameid="+s.gid,idDom:"nobleLayer",idMask:"nobleMask"})})})}});